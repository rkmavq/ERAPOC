<?xml version="1.0" encoding="UTF-8"?>
<form xmlns="http://www.w3.org/2002/06/xhtml2" xmlns:ix="http://itensil.com/ns/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:exf="http://www.exforms.org/exf/1-0" xmlns:xf="http://www.w3.org/2002/xforms"><xf:model id="fmodel"><xf:instance id="ins"><data/></xf:instance><xf:instance id="cats"><data/></xf:instance><xf:instance id="review"><data/></xf:instance><xf:instance id="form"><data><tabID>1c</tabID><ping>0</ping><AMD/><form updatedBy="" updated="" createdBy="" created=""/><tempRevIndex>-1</tempRevIndex><tempSugIndex>1</tempSugIndex><searchText/><searchAddNew/><records/><fullSearchText/><fullSearchRecords/><col1/><col2/><col3/><document/><temp/><someVariable id=""/><fragmentId/><comp uri=""/><loggedInUserId/><loggedInUserName/><pagemode/></data></xf:instance><xf:instance id="bootstrap"><data><js>/resources/services/appForms/main.js</js></data></xf:instance><xf:instance id="config"><data/></xf:instance><xf:instance id="baseOp"><data/></xf:instance><script ev:event="xforms-model-construct-done">
      bootstrapSharedXfrm(model);
      model.Frm = new appForm(model, "setup");
      
      
      
      model.setValue("instance('form')/loggedInUserId", model.Frm.getLoggedInUserId()); 
      model.setValue("instance('form')/loggedInUserName", model.Frm.getLoggedInUserName()); 
      
      model.setValue("instance('form')/pagemode", model.Frm.getMode()); 
      
      
        //model.Frm.loadAppFile('ins', "/data/irb.xml", "1");
        
        
        
        
          if(model.Frm.formSet.getRoot().__AMND){
            model.Frm.loadOpFile('ins', model.Frm.formSet.getRoot().__COMPREVURI, "1");
          }else{
            model.Frm.loadAppFile('ins', model.Frm.formSet.getRoot().__REVURI, "1");
          }
          model.Frm.loadAppFile('cats', "/data/catagories.xml", "0");
          if(model.Frm.formSet.getRoot().__AMND){
          model.Frm.loadOpFile('review', model.Frm.formSet.getRoot().__COMPREVURI, "1");
          model.Frm.loadOpFile('ins', model.Frm.formSet.getRoot().__COMPREVURI, "1");
          }else{
          model.Frm.loadAppFile('review', model.Frm.formSet.getRoot().__REVURI, "1");
          }
          
          if (model.Frm.formSet.getRoot().__REVURI.indexOf("/reviews") &gt; -1) model.Frm.revewMode = -1;
          
        
      model.Frm.loadMetaData();
      
      
        includeSharedJS("/resources/applications/IRB/js/clientSideFunctions.js");
        model.USA = new irbProtocol(model);
      
      model.refresh();
      model.rebuild();
      model.recalculate();
      <script ev:event="xforms-value-changed">
          //model.USA.registerChangeLog('review', '1c')
          //model.USA.registerChangeLog('ins', '1c')
          model.USA.registerChangeLog('comments', '1c')
        </script></script><script ev:event="xforms-ready"/><xf:submission instance="ins" id="submitins" replace="none" method="put"><xf:action ev:event="xforms-submit-done"/><xf:action ev:event="xforms-submit-error"><xf:message level="ephemeral">Problem saving (ins)</xf:message></xf:action></xf:submission><xf:submission instance="review" id="submitreview" replace="none" method="put"><xf:action ev:event="xforms-submit-done"/><xf:action ev:event="xforms-submit-error"><xf:message level="ephemeral">Problem saving (review)</xf:message></xf:action></xf:submission><xf:bind relevant="true()" readonly="false()" nodeset="instance(ins)//*"/><xf:bind relevant="true()" readonly="false()" nodeset="instance(cats)//*"/><xf:bind readonly="true()" nodeset="//link/@title"/><xf:bind nodeset="instance('form')/document" type="ix:file"/></xf:model><script ev:event="xforms-value-changed">
          model.USA.___EVAL_CHANGE_ON_SAVE = true;
        </script><style>
          div.formFrame div.commentBox{
          background-color:white;
          border: 2px solid gray;
          padding: 5px;
          width: 500px;
          }
          
          div.formFrame div.commentBox div.xfctrl{
          background-color:none;
          }
          
          div.formFrame div.commentBox div.xfctrl label{
          width:100px;
          }
          
          div.formFrame div.commentBox div.xfctrl textarea{
          width:390px;
          }
          
          
          div.formFrame td.custError{
          background-color:none;
          border:none;
          vertical-align:top;
          width:200px;
          padding-left:10px;
          color:red;
          font-weight:bold;
          }
          
          div.formFrame td.custError div.xfctrl tr{
            background-color:#f3f6fb !important;
          }
          
          div.formFrame td.custError div.xfctrl tr td{
            background-color:#f3f6fb !important;
          }
          
          div.formFrame tr td.custError div.xfctrl{
            background-color:#f3f6fb !important;
          }
          
          div.formFrame td.custError div{
          background-color:#f3f6fb !important;
          }
          
          div.formFrame td.custError .xfctrl{
            background-color:#f3f6fb !important;
          }
          
          div.formFrame table.fullColLayout tr td.custError div.xfctrl{
          background-color:none;
          }
          
          
          .wikiView div.formFrame table.fullColLayout tr td.custError div.xfctrl textarea {
          margin-top:10px;
          }
          
          .wikiView div.formFrame table.fullColLayout tr td.custError div.xfctrl {
            position:static;
            border-color:white;
          }
          div.formFrame tr td.custError div.xfctrl{
            position:static;
            border-color:white;
          }          
          
          .wikiView div.formFrame table.basicColLayout tr td.custError div.xfctrl textarea  {
            margin-top:10px;
          }
          
        </style><ix:template name="QuickSearch"><div style="padding:8px;width:400px"><table style="width:240px"><tr><td><xf:input id="searchBox" ref="instance('form')/searchText" style="width:140px"><xf:label style="width:50px">Lookup:</xf:label></xf:input></td><td><div style="margin-right:20px;"><u class="link" style="color:blue;cursor:pointer;text-decoration:underline;">Go</u><script ev:event="click">
                  model.Frm.executeQuickSearch();  
                </script></div></td></tr></table><hr/><xf:switch><xf:case exf:if="1" id="hide-quicksearch"/><xf:case id="show-quicksearch"><exf:variable name="records" value="instance('form')/records//rec"/><exf:variable name="pingVar" value="instance('form')/ping"/><div><ix:attr name="style" value="if($pingVar &gt; 0 and $pingVar &gt; 20, '', 'display:none')"/><h3><xf:output value="instance('form')/ping"/> records available, displaying the top 20 rows. Please use the Lookup box to search.</h3></div><div><ix:attr name="style" value="if($pingVar &gt; 0 and $pingVar &lt; 20, '', 'display:none')"/><h3><xf:output value="instance('form')/ping"/> records available, displaying <xf:output value="instance('form')/ping"/> rows. Please use the Lookup box to search.</h3></div><div><ix:attr name="style" value="if(count($records)=0, '', 'display:none')"/><h1>No Matches</h1><div><ix:attr value="if(instance('form')/searchAddNew='1', 'margin-left:10px;margin-top:20px;', 'display:none')" name="style"/>...please refine your search, <br/><br/><span style="margin-left:20px;">or 
                    <u style="cursor:pointer;color:blue">request that this <xf:output value="script('model.Frm.quickSearch.addNew.entName;')"/> be added to the system.
                      
                      <xf:action ev:event="click"><xf:setvalue value="instance('form')/searchText" ref="instance('form')/t[@i='1']"/><ix:dialog style="width:400px;" id="newValue" title="Add New Value" class="quickSearchDialog"><xf:repeat nodeset="instance('form')/t[@l!='']"><xf:input ref="."><ix:attr value="if(@t='text', 'width:400px;', 'display:none')" name="style"/><xf:label style="width:150px;"><xf:output value="@l"/></xf:label></xf:input><xf:select ref="." appearance="full"><ix:attr value="if(@t='yn', 'margin-left:150px;width:250px;', 'display:none')" name="style"/><xf:item><xf:label><xf:output value="@l"/></xf:label><xf:value>1</xf:value></xf:item></xf:select></xf:repeat><br/><table style=""><tr><td style="margin-right:10px;"><xf:trigger style="background-color:#DDDDDD;border-color:black;"><xf:label>Add</xf:label><xf:action ev:event="DOMActivate"><script>
                                      model.Frm.addFromQuickSearch();
                                    </script><xf:close ev:event="DOMActivate"/></xf:action></xf:trigger></td><td style="width:50%"><xf:trigger style="background-color:#DDDDDD;border-color:black;"><xf:label>Cancel</xf:label><xf:action ev:event="DOMActivate"><script>model.Frm.resetQuickSearch()</script><xf:close ev:event="DOMActivate"/></xf:action></xf:trigger></td></tr></table></ix:dialog></xf:action></u></span></div></div><div><ix:attr value="if(count($records) &gt; 150, '', 'display:none')" name="style"/><h1>Too Many Matches</h1>Please refine your search.</div><table class="quickSearchMatches"><ix:attr value="if(count($records) &lt;= 500 and count($records) &gt; 0, '', 'display:none')" name="style"/><tr><th style="text-align:left;"><xf:output value="instance('form')/col1"/></th><th style="text-align:left;padding-left:20px"><xf:output value="instance('form')/col2"/></th><th style="text-align:left;padding-left:20px"><xf:output value="instance('form')/col3"/></th></tr><xf:repeat nodeset="$records"><tr><td style="vertical-align:top; width:33%"><u class="clickable"><xf:output value="(attribute::node())[position()=script('SH.is_ie ? 4 : 3')]"/><xf:close ev:event="click"/><script ev:event="click"> 
                              var indx = model.getValue("@id", contextNode);
                              var val = model.getValue("@name", contextNode);
                              if(val == "") val = model.getValue("(attribute::node())[position()=script('SH.is_ie ? 4 : 3')]", contextNode);
                              model.Frm.quickSearchSelect(indx, val);
                              var code = model.Frm.quickSearch.code;
                              if(code) eval(code);
                              if(model.Frm.quickSearch.save) model.Frm.saveAll();
                              event.stopPropagation();
                            </script></u></td><td style="vertical-align:top;padding-left:20px; width:30%"><xf:output value="if(instance('form')/col2 and instance('form')/col2 != '', (attribute::node())[position()=script('SH.is_ie ? 3 : 2')], '')"/></td><td style="vertical-align:top;padding-left:20px; width:30%"><xf:output value="if(instance('form')/col3 and instance('form')/col3 != '', (attribute::node())[position()=script('SH.is_ie ? 2 : 1')], '')"/></td></tr></xf:repeat></table><br/><br/></xf:case></xf:switch></div></ix:template><div class="formFrame" id="allcontrols"><div style="display:none;"><xf:input id="documentDrop" ref="instance('form')/document"><xf:action ev:event="xforms-value-changed" exf:if="instance('form')/document != ''"><script> 
                var n = model.getValue(".", contextNode);
                if(n != "") model.Frm.linkFile(n);
                document.__UPLOADTYPE = "";//Re-setting the value
              </script></xf:action></xf:input></div><table class="formMetaLine"><tr/></table><div class="body"><h1/><table class="basicColLayout"><tr class="radiobuttons"><td class="component   widestLabel"><exf:variable value="instance('ins')/appType/@revIndex" name="revIndexappType"/><exf:variable value="(instance('ins')/amendmentNodes/appType[@revIndex=$revIndexappType])" name="amdNodeNeedleappType"/><exf:variable value="(instance('ins')/appType[@revIndex=$revIndexappType])" name="thisNodeNeedleappType"/><exf:variable value="instance('ins')/appType" name="thisNodeVappType"/><exf:variable value="instance('cats')/appType/type[@id=$thisNodeVappType]/@name" name="thisNodeappType"/><exf:variable value="(instance('ins')/original/appType[@revIndex=$revIndexappType])" name="orgNodeVappType"/><exf:variable value="instance('cats')/appType/type[@id=$orgNodeVappType]/@name" name="orgNodeappType"/><exf:variable value="(instance('ins')/suggestions/appType[@revIndex=$revIndexappType])" name="sugNodeSetappType"/><exf:variable value="(instance('ins')/suggestions/appType[@revIndex=$revIndexappType])" name="sugNodeVappType"/><exf:variable value="instance('cats')/appType/type[@id=$sugNodeVappType]/@name" name="sugNodeappType"/><exf:variable value="instance('ins')/previous/review/appType/@revIndex" name="revIndexOappType"/><exf:variable value="(instance('ins')/previous/review/appType[@revIndex=$revIndexOappType])" name="thisNodeNeedleOldappType"/><exf:variable value="instance('ins')/previous/review/appType" name="thisNodeVOldappType"/><exf:variable value="instance('cats')/appType/type[@id=$thisNodeVOldappType]/@name" name="thisNodeOldappType"/><exf:variable value="(instance('ins')/previous/review/original/appType[@revIndex=$revIndexOappType])" name="orgNodeVOldappType"/><exf:variable value="instance('cats')/appType/type[@id=$orgNodeVOldappType]/@name" name="orgNodeOldappType"/><exf:variable value="(instance('ins')/previous/review/suggestions/appType[@revIndex=$revIndexOappType])" name="sugNodeSetOldappType"/><exf:variable value="(instance('ins')/previous/review/suggestions/appType[@revIndex=$revIndexOappType])" name="sugNodeVOldappType"/><exf:variable value="instance('cats')/appType/type[@id=$sugNodeVOldappType]/@name" name="sugNodeOldappType"/><exf:variable value="instance('cats')/appType/type[@id=$sugNodeVOldappType]/@name" name="sugNodeOldappType"/><xf:select1 ref="instance('ins')/appType" appearance="full" id="appType"><xf:label>Application Type</xf:label><xf:repeat nodeset="instance('cats')/appType/type"><xf:item><xf:label><xf:output value="@name"/></xf:label><xf:value><xf:output value="@id"/></xf:value></xf:item></xf:repeat><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			y = model.getValue("instance('ins')/researchInvolves",contextNode);
			if(x != '2') {	
				model.setValue("instance('ins')/WIRBStudy", "");
				model.setValue("instance('ins')/wirbProtocolNumber", "");
				model.setValue("instance('ins')/CPUServices", "");
			}
			if(x != '5') {				
				var dl = model.getValue("instance('ins')/fda3926Doc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/fda3926Doc/@uri", "");
				model.setValue("instance('ins')/fda3926Doc/@docLink", "");
				model.setValue("instance('ins')/fda3926Doc", "");
				
				var dl = model.getValue("instance('ins')/drugTreatmentPlanDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/drugTreatmentPlanDoc/@uri", "");
				model.setValue("instance('ins')/drugTreatmentPlanDoc/@docLink", "");
				model.setValue("instance('ins')/drugTreatmentPlanDoc", "");	
				
				var dl = model.getValue("instance('ins')/fda1572Doc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/fda1572Doc/@uri", "");
				model.setValue("instance('ins')/fda1572Doc/@docLink", "");
				model.setValue("instance('ins')/fda1572Doc", "");	
				
				var dl = model.getValue("instance('ins')/fdaOkToProceedDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/fdaOkToProceedDoc/@uri", "");
				model.setValue("instance('ins')/fdaOkToProceedDoc/@docLink", "");
				model.setValue("instance('ins')/fdaOkToProceedDoc", "");	
				
				var dl = model.getValue("instance('ins')/idbDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/idbDoc/@uri", "");
				model.setValue("instance('ins')/idbDoc/@docLink", "");
				model.setValue("instance('ins')/idbDoc", "");
				
				model.setValue("instance('ins')/singlePatientINDNumber", "");
			}
			if(x != '3') {
				model.setValue("instance('ins')/externalIRBHIPAA", "");				
				
				//Clear External IRB tab
				model.setValue("instance('ins')/externalIRBName", "");
				model.setValue("instance('ins')/externalIRBOther", "");
				model.setValue("instance('ins')/externalIRBMultiCenterNotPI", "");
				model.setValue("instance('ins')/externalIRBMultiCenterConsortium", "");
				model.setValue("instance('ins')/externalIRBMultiCenterCentralIRB", "");
				model.setValue("instance('ins')/externalIRBPIRoleNotIncludeSubjects", "");
				model.setValue("instance('ins')/externalIRBFederalFunds", "");
				model.setValue("instance('ins')/externalIRBRequestFromFCOIR", "");
				model.setValue("instance('ins')/externalIRBRequestFromPPHS", "");
				model.setValue("instance('ins')/externalIRBHIVTesting", "");
				var dl3 = model.getValue("instance('ins')/externalIRBHIVConsent/@docLink",null);
				if(dl3) model.Frm.deleteDocumentRef(dl3, 'ins');
                model.setValue("instance('ins')/externalIRBHIVConsent/@uri", "");
				model.setValue("instance('ins')/externalIRBHIVConsent/@docLink", "");
                model.setValue("instance('ins')/externalIRBHIVConsent", "");
			} 
			if(x != '1') {
				model.setValue("instance('ins')/researchInvolves", "");
				model.setValue("instance('ins')/consentingParticipants", "");
				model.setValue("instance('ins')/useHUD", "");
				model.setValue("instance('ins')/requestingWaiverForAnyProcedures", "");
				model.setValue("instance('ins')/invDevs", "");
				model.setValue("instance('ins')/bankingSpecimens", "");				
				
				//Clear Summary - Backgraound tab
				model.setValue("instance('ins')/objective", "");
				model.setValue("instance('ins')/background", "");
				model.setValue("instance('ins')/primarySecondaryEndpoints", "");
				model.setValue("instance('ins')/previouslyApprovedISMMS", "");
				model.setValue("instance('ins')/prevISSMSProtocolNumber", "");
				model.setValue("instance('ins')/previouslySubmittedExternal", "");
				model.setValue("instance('ins')/previouslySubmittedExternalIRBName", "");
				model.setValue("instance('ins')/previouslyApprovedExternal", "");
				var dl3 = model.getValue("instance('ins')/previousApprovalDoc/@docLink",null);
				if(dl3) model.Frm.deleteDocumentRef(dl3, 'ins');
                model.setValue("instance('ins')/previousApprovalDoc/@uri", "");
				model.setValue("instance('ins')/previousApprovalDoc/@docLink", "");
                model.setValue("instance('ins')/previousApprovalDoc", "");
				model.setValue("instance('ins')/previouslySubmittedDetails", "");				
				
				//Clear Sites tab
				model.USA.removeALLExternalSites([]);
				
				//Clear Consent - Obtaining Consent
				model.setValue("instance('ins')/concentProcess", "");
				var dl1 = model.getValue("instance('ins')/consentDoc/@docLink",null);
				if(dl1) model.Frm.deleteDocumentRef(dl1, 'ins');
				model.setValue("instance('ins')/consentDoc/@uri", "");
				model.setValue("instance('ins')/consentDoc/@docLink", "");
				model.setValue("instance('ins')/consentDoc", "");
				model.setValue("instance('ins')/whereWhenConcent", "");
				model.setValue("instance('ins')/consentWaiting", "");
				model.setValue("instance('ins')/consentSOPHRP", "");
				model.setValue("instance('ins')/consentDescribe", "");
				model.setValue("instance('ins')/consentWritten", "");
				model.setValue("instance('ins')/enrollNonEnglishSpeaking", "");
				model.setValue("instance('ins')/languagesOtherThanEnglish", "");
				model.setValue("instance('ins')/languagesConsentProcess", "");
				model.setValue("instance('ins')/justificationNotEnrollingNonEnglishSpeaking", "");
				
				//Clear Consent - Parental Permission
				model.setValue("instance('ins')/consPermission", "");
				model.setValue("instance('ins')/waiveParentalCriteriaSet", "");
				model.setValue("instance('ins')/waiveParentalCriteriaSetJustify", "");
				var dl = model.getValue("instance('ins')/PPDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/PPDoc/@uri", "");
				model.setValue("instance('ins')/PPDoc/@docLink", "");
				model.setValue("instance('ins')/PPDoc", "");
				model.setValue("instance('ins')/assentPermission", "");
				model.setValue("instance('ins')/assentProcess", "");
				var dl1 = model.getValue("instance('ins')/assentForm/@docLink",null);
				if(dl1) model.Frm.deleteDocumentRef(dl1, 'ins');
				model.setValue("instance('ins')/assentForm/@uri", "");
				model.setValue("instance('ins')/assentForm/@docLink", "");
				model.setValue("instance('ins')/assentForm", "");
				model.setValue("instance('ins')/assentDocumentProcess", "");
				model.setValue("instance('ins')/assentDocumentDesc", "");
				model.setValue("instance('ins')/consCapability", "");
				model.setValue("instance('ins')/waiveAssentCriteriaSet", "");
				model.setValue("instance('ins')/waiveAssentCriteriaSetJustification", "");
				model.setValue("instance('ins')/designedBenefits", "");
				
				//Clear Consent - Legally Authorized Representative
				model.setValue("instance('ins')/indCapableOfConsent", "");
				model.setValue("instance('ins')/permissionList", "");
				model.setValue("instance('ins')/assentOfSubjects", "");
				
				//Clear Consent - Waiver of Informed Consent			
				model.setValue("instance('ins')/requestingWaiverFor", "");
				model.setValue("instance('ins')/consentWaiver", "");
				model.setValue("instance('ins')/noMoreThanMinRisk", "");
				model.setValue("instance('ins')/waiverNotAffectParticipants", "");
				model.setValue("instance('ins')/justifyWaiver", "");
				model.setValue("instance('ins')/provideAdditionalInformation", "");
				model.setValue("instance('ins')/describeAlterationConsent", "");
				model.setValue("instance('ins')/justifyAlterationConsent", "");
				
				//Clear Consent - Waiver of Signed Consent
				model.setValue("instance('ins')/identJustification", "");
				model.setValue("instance('ins')/waiverOfSignedConsentJustification", "");
				
				//Clear Consent - Documents
				var nl = model.selectNodeList("instance('ins')/consentDocs", null);
				for(var m = 0; m &lt; nl.length; m++) {
					var dl = model.getValue("instance('ins')/consentDocs["+(m + 1)+"]/document/@docLink", null);
					if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				}
				for(var m = 0; m &lt; nl.length; m++) {
					nl[m].parentNode.removeChild(nl[m]);
				}
				//model.USA.refreshArea('consentDocs');
				
				//Clear Devices - Investigational Devices
				if(model.getValue("count(instance('ins')/Device)") * 1 != 0) {
					model.USA.removeALLMSSMDevices(["main2"]);
				}

				//Clear Devices - Humanitarian Use Devices
				model.setValue("instance('ins')/dataHUD", "");
				model.setValue("instance('ins')/hudNum", "");
				model.setValue("instance('ins')/hudFDA", "");
				dl = model.getValue("instance('ins')/hudApprovalDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudApprovalDoc/@uri", "");
				model.setValue("instance('ins')/hudApprovalDoc/@docLink", "");
				model.setValue("instance('ins')/hudApprovalDoc", "");
				dl = model.getValue("instance('ins')/hudUseDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudUseDoc/@uri", "");
				model.setValue("instance('ins')/hudUseDoc/@docLink", "");
				model.setValue("instance('ins')/hudUseDoc", "");
				dl = model.getValue("instance('ins')/hudProductDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudProductDoc/@uri", "");
				model.setValue("instance('ins')/hudProductDoc/@docLink", "");
				model.setValue("instance('ins')/hudProductDoc", "");
				dl = model.getValue("instance('ins')/hudPatientDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudPatientDoc/@uri", "");
				model.setValue("instance('ins')/hudPatientDoc/@docLink", "");
				model.setValue("instance('ins')/hudPatientDoc", "");
				
				//Clear Specimen Banking
				model.setValue("instance('ins')/specDescribe", "");
				model.setValue("instance('ins')/specLength", "");
				model.setValue("instance('ins')/specAccess", "");
				model.setValue("instance('ins')/specInfo", "");
				model.setValue("instance('ins')/specimensWillBeReleased", "");
				var nl = model.selectNodeList("instance('ins')/Person[(invitation/@status!='author' or (invitation/@status='author' and role!='co')) and role!='nonProtocol' and not(name = preceding::name)]/@personnelResponsibleSpecimensObtain", null);
				for(var m = 0; m &lt; nl.length; m++) {
					model.setValue("instance('ins')/Person[(invitation/@status!='author' or (invitation/@status='author' and role!='co')) and role!='nonProtocol' and not(name = preceding::name)]["+(m + 1)+"]/@personnelResponsibleSpecimensObtain", "");
				}
				model.setValue("instance('ins')/specRelease", "");
				model.setValue("instance('ins')/specApproval", "");
				model.setValue("instance('ins')/specProvide", "");
				model.setValue("instance('ins')/specimensCanBeObtainedBy", "");
				
			}
			
			if(x != '4') {
			
			//Clear Exception - Summary tab
			model.setValue("instance('ins')/exemptSummary", "");
			model.setValue("instance('ins')/exemptLocation", "");
			model.setValue("instance('ins')/exemptInteractionSubjects", "");
			//AB Sprint 4
			model.setValue("instance('ins')/involveRetroDataBioSpecimens", "");
			model.setValue("instance('ins')/exemptEquitableSelection", "");
			model.setValue("instance('ins')/exemptSurveyInstruments", "");
			var dl3 = model.getValue("instance('ins')/exemptResearchInfoSheet/@docLink",null);
			if(dl3) model.Frm.deleteDocumentRef(dl3, 'ins');
			model.setValue("instance('ins')/exemptResearchInfoSheet/@uri", "");
			model.setValue("instance('ins')/exemptResearchInfoSheet/@docLink", "");
			model.setValue("instance('ins')/exemptResearchInfoSheet", "");
			model.setValue("instance('ins')/exemptPrivacyProtected", "");
			
			//Clear Exception - Category tab
			model.setValue("instance('ins')/exemptCategories", "");								
			}
			
			
			if(x != '2' &amp;&amp; x != '3' &amp;&amp; y !='2' &amp;&amp; y != '3')	{				     
				model.setValue("instance('ins')/instPRMC", "");
				model.setValue("instance('ins')/clinicalTrial", "");
				model.setValue("instance('ins')/invDrugs", "");
				model.setValue("instance('ins')/radiologicalProcedures", "");
				model.setValue("instance('ins')/involvesBiosafety", "");
				model.setValue("instance('ins')/requestingCRUResources", "");
				
				//Clear Cancer
				model.setValue("instance('ins')/instPRMCApp", "");
				var dl = model.getValue("instance('ins')/instPRMCAppLetter/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/instPRMCAppLetter/@uri", "");
				model.setValue("instance('ins')/instPRMCAppLetter/@docLink", "");
				model.setValue("instance('ins')/instPRMCAppLetter", "");
				
				//Clear Radiation Safety
				model.setValue("instance('ins')/radiologicalProceduresDosimetry", "");
				var dl = model.getValue("instance('ins')/dosimetryChart/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dosimetryChart/@uri", "");
				model.setValue("instance('ins')/dosimetryChart/@docLink", "");
				model.setValue("instance('ins')/dosimetryChart", "");				
				model.setValue("instance('ins')/involvesRadiologicalProcedures", "");
				model.setValue("instance('ins')/involvesStandardCareRadiologicalProceduresOnly", "");
				
				//Clear Clinical Research Unit - Summary
				model.setValue("instance('ins')/studyWillUtilize", "");
				model.setValue("instance('ins')/includesStandardCare", "");
				model.setValue("instance('ins')/rareDiseaseStudy", "");
				model.setValue("instance('ins')/CRUPersonnel", "");
				model.setValue("instance('ins')/CRUFacilities", "");
				model.setValue("instance('ins')/descPerformedCRU", "");
				
				//Clear Clinical Research Unit - Requirements
				model.setValue("instance('ins')/totalNumberPatientsEvaluatedCRU", "");
				model.setValue("instance('ins')/outpatientVisits", "");
				model.setValue("instance('ins')/hoursPerVisit", "");
				model.setValue("instance('ins')/uniqueSituations", "");
				model.setValue("instance('ins')/timeDayTesting", "");
				model.setValue("instance('ins')/timeDayTestingSpecify", "");
				model.setValue("instance('ins')/specialNursingReqs", "");
				model.setValue("instance('ins')/specialNursingReqsSpecify", "");
				model.setValue("instance('ins')/specialInfectionControlReqs", "");
				model.setValue("instance('ins')/specialInfectionControlReqsSpecify", "");
				model.setValue("instance('ins')/fallsPrecaution", "");
				model.setValue("instance('ins')/seizurePrecaution", "");
				model.setValue("instance('ins')/patientsCareSelves", "");
				model.setValue("instance('ins')/requireNursingAssistance", "");
				model.setValue("instance('ins')/requireNursingAssistanceSpecify", "");
				model.setValue("instance('ins')/dietaryReqs", "");
				model.setValue("instance('ins')/dietaryReqsSpecify", "");
				
				//Clear Clinical Research Unit - Costs
				model.setValue("instance('ins')/totalCosts", "");
				model.setValue("instance('ins')/totalCRUCosts", "");
				model.setValue("instance('ins')/compTotalCRU", "");
				model.setValue("instance('ins')/totalCRU", "");
				var m = model.selectNodeList("instance('ins')/Cost", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				//model.USA.refreshArea('Cost');
			}
						
			//onchange event for Procedure tab
			var bResearchInv = model.getValue("instance('ins')/researchInvolves",null);
			var bExSummary = model.getValue("instance('ins')/exemptSurveyInstruments",null);
			var bAppType = model.getValue("instance('ins')/appType",null);
			var bCRUnit = model.getValue("instance('ins')/requestingCRUResources",null);
			var procedures = (bResearchInv == "2" || bResearchInv == "3" || bExSummary == "1" || (bAppType == "2" &amp;&amp; bCRUnit == "1") || (bAppType == "3" &amp;&amp; bCRUnit == "1")) ? "1" : "0";
			if(procedures != 1) {
			
				//Clear Procedures - Narrative
				model.setValue("instance('ins')/studyDesignDescription", "");
				model.setValue("instance('ins')/proceduresDescription", "");
				model.setValue("instance('ins')/sourceRecordsDescription", "");
				model.setValue("instance('ins')/dataCollectedDescription", "");
				
				//Clear Procedures - Genetic Testing
				model.setValue("instance('ins')/geneticTesting", "");
				model.setValue("instance('ins')/geneticTestingForClinicalPurposes", "");
				
				//Clear Procedures - Details
				model.setValue("instance('ins')/survey", "");
				model.setValue("instance('ins')/typeInstruments", "");				
				model.setValue("instance('ins')/standardizedInstruments", "");
				model.setValue("instance('ins')/investigatorInstrumentsDescription", "");
				model.setValue("instance('ins')/avTaping", "");
				model.setValue("instance('ins')/avTapingSubjectsIdentifiable", "");
				model.setValue("instance('ins')/avTapingMediaDiscarded", "");
				model.setValue("instance('ins')/avTapingMediaStorageDuration", "");
				model.setValue("instance('ins')/avTapingMediaStorageConfidentiality", "");
				model.setValue("instance('ins')/avTapingMediaShared", "");
				model.setValue("instance('ins')/avTapingRequiredForParticipation", "");
				model.setValue("instance('ins')/deception", "");
				model.setValue("instance('ins')/deceptionNotes", "");
				model.setValue("instance('ins')/shareResults", "");
				model.setValue("instance('ins')/descShareResults", "");
				model.setValue("instance('ins')/descShareResultsWhen", "");
			}
			
			
			
			//Clear Procedures - Instruments
			var bInstrumentsBeingUsed = model.getValue("instance('ins')/typeInstruments", null);
			var bExSummary = model.getValue("instance('ins')/exemptSurveyInstruments",null);
			if(bExSummary != '1' &amp;&amp; bInstrumentsBeingUsed.indexOf('2') &lt; 0) {
				var nl = model.selectNodeList("instance('ins')/instruments", null);
				for(var m = 0; m &lt; nl.length; m++) {
					var dl = model.getValue("instance('ins')/instruments["+(m + 1)+"]/document/@docLink", null);
					if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				}
				for(var m = 0; m &lt; nl.length; m++) {
					nl[m].parentNode.removeChild(nl[m]);
				}
				//model.USA.refreshArea('instruments');
			}
			
			
			//Clear Procedures - Compensation
			var cResearchInv = model.getValue("instance('ins')/researchInvolves",null);
			var cAppType = model.getValue("instance('ins')/appType",null);
			var cCRUnit = model.getValue("instance('ins')/requestingCRUResources",null);
			var compensation = (cResearchInv == "2" || cResearchInv == "3" || (bAppType == "2" &amp;&amp; bCRUnit == "1") || (bAppType == "3" &amp;&amp; bCRUnit == "1")) ? "1" : "0";
			if(compensation != '1') {
				model.setValue("instance('ins')/compParticipation", "");
				model.setValue("instance('ins')/compTotal", "");
				model.setValue("instance('ins')/compTotalCRU", "");
				var m = model.selectNodeList("instance('ins')/Compensation", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				//model.USA.refreshArea('Compensation');
			}
						
			var appType = model.getValue(".",contextNode);
			var hipaaCon = model.getValue("instance('ins')/externalIRBHIPAA",null);
			appType = (appType == "1" || appType == "4" || hipaaCon == "0") ? "1" : "0";
			if(appType != "1") {
				//Clear Data - Collection
				model.setValue("instance('ins')/healthInfoViewedRecorded", "");
				model.setValue("instance('ins')/healthInfoViewedRecordedDescription", "");
				model.setValue("instance('ins')/nonHealthInfoViewedRecorded", "");
				model.setValue("instance('ins')/nonHealthInfoViewedRecordedDescription", "");
				model.setValue("instance('ins')/HIVInfoViewedRecorded", "");
				model.setValue("instance('ins')/HIVInfoInformedConsent", "");
				model.setValue("instance('ins')/dataRecord", "");
				model.setValue("instance('ins')/dataViewed", "");
				model.setValue("instance('ins')/dataRecorded", "");
				model.setValue("instance('ins')/dataCollectionSources", "");
				var dl3 = model.getValue("instance('ins')/dataCollection/@docLink",null);
				if(dl3) model.Frm.deleteDocumentRef(dl3, 'ins');
				model.setValue("instance('ins')/dataCollection/@uri", "");
				model.setValue("instance('ins')/dataCollection/@docLink", "");
				model.setValue("instance('ins')/dataCollection", "");    					      
				
				//Clear Data - HIPAA	
				model.setValue("instance('ins')/obtainingHIPAAAuthorization", "");
				model.setValue("instance('ins')/requestingWaiverAlteration", "");				
				model.setValue("instance('ins')/explanationWhyNotWOWaiverAlteration", "");
				model.setValue("instance('ins')/researchCouldBeConductedWithoutPHI", "");
				model.setValue("instance('ins')/explanationWhyNotWOPHI", "");
				model.setValue("instance('ins')/howPHIProtected", "");
				model.setValue("instance('ins')/PHIDestroyed", "");
				model.setValue("instance('ins')/WhenHowPHIDestroyed", "");
				model.setValue("instance('ins')/justificationRetainingPHI", "");
				model.setValue("instance('ins')/PHIShared", "");
				model.setValue("instance('ins')/PHISharedDescription", "");
				model.setValue("instance('ins')/PHISharedJustification", "");
				model.setValue("instance('ins')/PHISharedWithWhom", "");
				model.setValue("instance('ins')/PHIObtainedBy", "");
				
				//Clear Data - HIV/AIDS	
				var nl = model.selectNodeList("instance('ins')/HIVPerson", null);
				for(var ii = 0; ii &lt; nl.length; ii++){
					nl[ii].parentNode.removeChild(nl[ii]);
				}
				
				//Clear Data - Storage
				model.setValue("instance('ins')/dataStore", "");
				model.setValue("instance('ins')/dataStoreHow", "");
				model.setValue("instance('ins')/dataStoreOther", "");
				model.setValue("instance('ins')/dataAccess", "");
				model.setValue("instance('ins')/dataTrans", "");
				model.setValue("instance('ins')/dataStoreWho", "");
				model.setValue("instance('ins')/dataLength", "");
				model.setValue("instance('ins')/dataSecure", "");
				model.setValue("instance('ins')/dataAnalysis", "");

				//Clear Data - Safety Monitoring
				model.setValue("instance('ins')/safetyMonitor", "");
				var n = model.selectNodeList("instance('ins')/primDataMan", null);
				for(var i = n.length; i &gt; 0; i--){
					n[i-1].parentNode.removeChild(n[i-1]);
				}
				var m = model.selectNodeList("instance('ins')/addlDataMan", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				model.USA.refreshArea('primDataMan');
				model.USA.refreshArea('addlDataMan');				
				model.setValue("instance('ins')/specificAims", "");
				model.setValue("instance('ins')/freqDataReview", "");
				model.setValue("instance('ins')/altStudyDesign", "");
				model.setValue("instance('ins')/minToxicity", "");
				model.setValue("instance('ins')/gradingSystem", "");
				model.setValue("instance('ins')/dataAccuracy", "");
				model.setValue("instance('ins')/suspensionReport", "");
				model.setValue("instance('ins')/subjectWithdraw", "");
				model.setValue("instance('ins')/primarySecondarySafetyEndpoints", "");
				dl = model.getValue("instance('ins')/dmcDescription/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dmcDescription/@uri", "");
				model.setValue("instance('ins')/dmcDescription/@docLink", "");
				model.setValue("instance('ins')/dmcDescription", "");
				model.setValue("instance('ins')/dmcCharterAvailable", "");
				dl = model.getValue("instance('ins')/dmcCharter/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dmcCharter/@uri", "");
				model.setValue("instance('ins')/dmcCharter/@docLink", "");
				model.setValue("instance('ins')/dmcCharter", "");	
			}
			
			//Clear Data - Retrospective Review
			var exemptInteractionSubjects = model.getValue("instance('ins')/exemptInteractionSubjects", null);
			var involveRetroDataBioSpecimens = model.getValue("instance('ins')/involveRetroDataBioSpecimens", null);
			var rResearchInv = model.getValue("instance('ins')/researchInvolves", null);
			if(rResearchInv != "1" &amp;&amp; rResearchInv != "2" &amp;&amp; exemptInteractionSubjects != "0" &amp;&amp; involveRetroDataBioSpecimens != "1") {
				model.setValue("instance('ins')/enrollThisSite", "");
				model.setValue("instance('ins')/retroStartDate", "");
				model.setValue("instance('ins')/retroEndDate", "");
				model.setValue("instance('ins')/DataSubmittedFDAPermit", "");
				model.setValue("instance('ins')/DeviceUsedDataSubmittedFDAPermit", "");
			}
			
			//Clear Financial Administration
			var fundingCat = model.getValue("instance('ins')/fundingSourceComp/Organization/fundingCat[. = 'Industry']",null);
			var fDrugBiologics = model.getValue(".",contextNode);
			var finvDevice = model.getValue("instance('ins')/invDevs",null);
			var fClinicalTrial = model.getValue("instance('ins')/clinicalTrial",null);
			var finance = "0";
			if(fundingCat == "Industry" || fDrugBiologics == "1" || finvDevice == "1" || fClinicalTrial == "1") {
				finance = "1";
			} else {
				finance = "0";
			}
			if(finance != "1") {
				model.setValue("instance('ins')/FACTSClinicalResearchStudyCategory", "");
				model.setValue("instance('ins')/facts_payment_option", "");
				model.setValue("instance('ins')/facts_payment_option_1", "");
				model.setValue("instance('ins')/facts_payment_option_2", "");
				model.setValue("instance('ins')/facts_payment_option_5", "");
			}
			
			//Clear HH questions if compassionate use
			if (x != '1' &amp;&amp; x != '2' &amp;&amp; x != '3' &amp;&amp; x != '4'){
				model.setValue("instance('ins')/feeWaiverRequested", "");
				model.setValue("instance('ins')/researchFunded", "");
				model.setValue("instance('ins')/ipOfPI", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleappType/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldappType = $orgNodeOldappType and $thisNodeOldappType = $orgNodeOldappType and instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment != '') or ($sugNodeOldappType/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment"/><ix:attr value="if(($sugNodeOldappType/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldappType/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldappType != $orgNodeOldappType, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldappType != $thisNodeOldappType, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldappType = $sugNodeOldappType, 'Revision Accepted', if($thisNodeOldappType = $orgNodeOldappType, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldappType"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldappType"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldappType != $orgNodeOldappType and $sugNodeOldappType = $orgNodeOldappType, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldappType != $thisNodeOldappType, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldappType = $sugNodeOldappType, 'Revision Accepted', if($thisNodeOldappType = $orgNodeOldappType, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldappType/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldappType"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldappType != $orgNodeOldappType and $sugNodeOldappType = $orgNodeOldappType, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexappType]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldappType"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeappType != $orgNodeappType, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleappType/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleappType/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleappType/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/appType[. = '2'], '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/WIRBStudy/@revIndex" name="revIndexWIRBStudy"/><exf:variable value="(instance('ins')/amendmentNodes/WIRBStudy[@revIndex=$revIndexWIRBStudy])" name="amdNodeNeedleWIRBStudy"/><exf:variable value="(instance('ins')/WIRBStudy[@revIndex=$revIndexWIRBStudy])" name="thisNodeNeedleWIRBStudy"/><exf:variable value="instance('ins')/WIRBStudy" name="thisNodeWIRBStudy"/><exf:variable value="(instance('ins')/original/WIRBStudy[@revIndex=$revIndexWIRBStudy])" name="orgNodeWIRBStudy"/><exf:variable value="(instance('ins')/original/WIRBStudy[@revIndex=$revIndexWIRBStudy])" name="orgNodeVWIRBStudy"/><exf:variable value="(instance('ins')/suggestions/WIRBStudy[@revIndex=$revIndexWIRBStudy])" name="sugNodeSetWIRBStudy"/><exf:variable value="(instance('ins')/suggestions/WIRBStudy[@revIndex=$revIndexWIRBStudy])" name="sugNodeWIRBStudy"/><exf:variable value="instance('ins')/previous/review/WIRBStudy/@revIndex" name="revIndexOWIRBStudy"/><exf:variable value="(instance('ins')/previous/review/WIRBStudy[@revIndex=$revIndexOWIRBStudy])" name="thisNodeNeedleOldWIRBStudy"/><exf:variable value="instance('ins')/previous/review/WIRBStudy" name="thisNodeOldWIRBStudy"/><exf:variable value="(instance('ins')/previous/review/original/WIRBStudy[@revIndex=$revIndexOWIRBStudy])" name="orgNodeOldWIRBStudy"/><exf:variable value="(instance('ins')/previous/review/suggestions/WIRBStudy[@revIndex=$revIndexOWIRBStudy])" name="sugNodeSetOldWIRBStudy"/><exf:variable value="(instance('ins')/previous/review/suggestions/WIRBStudy[@revIndex=$revIndexOWIRBStudy])" name="sugNodeOldWIRBStudy"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/WIRBStudy" appearance="full" class="selectYes" id="WIRBStudy"><xf:label>Is there a WIRB Study Id?</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/WIRBStudy" appearance="full" id="WIRBStudy"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleWIRBStudy/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldWIRBStudy = $orgNodeOldWIRBStudy and $thisNodeOldWIRBStudy = $orgNodeOldWIRBStudy and instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment != '') or ($sugNodeOldWIRBStudy/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment"/><ix:attr value="if(($sugNodeOldWIRBStudy/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldWIRBStudy/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldWIRBStudy != $orgNodeOldWIRBStudy, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldWIRBStudy != $thisNodeOldWIRBStudy, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldWIRBStudy = $sugNodeOldWIRBStudy, 'Revision Accepted', if($thisNodeOldWIRBStudy = $orgNodeOldWIRBStudy, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldWIRBStudy"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldWIRBStudy"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldWIRBStudy != $orgNodeOldWIRBStudy and $sugNodeOldWIRBStudy = $orgNodeOldWIRBStudy, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldWIRBStudy != $thisNodeOldWIRBStudy, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldWIRBStudy = $sugNodeOldWIRBStudy, 'Revision Accepted', if($thisNodeOldWIRBStudy = $orgNodeOldWIRBStudy, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldWIRBStudy/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldWIRBStudy"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldWIRBStudy != $orgNodeOldWIRBStudy and $sugNodeOldWIRBStudy = $orgNodeOldWIRBStudy, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexWIRBStudy]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldWIRBStudy"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeWIRBStudy != $orgNodeWIRBStudy, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleWIRBStudy/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleWIRBStudy/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleWIRBStudy/@comment"/></div></div></td></tr><tr class="field"><ix:attr value="if(instance('ins')/appType[. = '2'] and instance('ins')/WIRBStudy='1', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/wirbProtocolNumber/@revIndex" name="revIndexwirbProtocolNumber"/><exf:variable value="(instance('ins')/amendmentNodes/wirbProtocolNumber[@revIndex=$revIndexwirbProtocolNumber])" name="amdNodeNeedlewirbProtocolNumber"/><exf:variable value="(instance('ins')/wirbProtocolNumber[@revIndex=$revIndexwirbProtocolNumber])" name="thisNodeNeedlewirbProtocolNumber"/><exf:variable value="instance('ins')/wirbProtocolNumber" name="thisNodewirbProtocolNumber"/><exf:variable value="(instance('ins')/original/wirbProtocolNumber[@revIndex=$revIndexwirbProtocolNumber])" name="orgNodewirbProtocolNumber"/><exf:variable value="(instance('ins')/suggestions/wirbProtocolNumber[@revIndex=$revIndexwirbProtocolNumber])" name="sugNodeSetwirbProtocolNumber"/><exf:variable value="(instance('ins')/suggestions/wirbProtocolNumber[@revIndex=$revIndexwirbProtocolNumber])" name="sugNodewirbProtocolNumber"/><exf:variable value="instance('ins')/previous/review/wirbProtocolNumber/@revIndex" name="revIndexOwirbProtocolNumber"/><exf:variable value="(instance('ins')/previous/review/wirbProtocolNumber[@revIndex=$revIndexOwirbProtocolNumber])" name="thisNodeNeedleOldwirbProtocolNumber"/><exf:variable value="instance('ins')/previous/review/wirbProtocolNumber" name="thisNodeOldwirbProtocolNumber"/><exf:variable value="(instance('ins')/previous/review/original/wirbProtocolNumber[@revIndex=$revIndexOwirbProtocolNumber])" name="orgNodeOldwirbProtocolNumber"/><exf:variable value="(instance('ins')/previous/review/suggestions/wirbProtocolNumber[@revIndex=$revIndexOwirbProtocolNumber])" name="sugNodeSetOldwirbProtocolNumber"/><exf:variable value="(instance('ins')/previous/review/suggestions/wirbProtocolNumber[@revIndex=$revIndexOwirbProtocolNumber])" name="sugNodeOldwirbProtocolNumber"/><xf:input class="wide" ref="instance('ins')/wirbProtocolNumber"><xf:label>WIRB Study ID</xf:label><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedlewirbProtocolNumber/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:input></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldwirbProtocolNumber = $orgNodeOldwirbProtocolNumber and $thisNodeOldwirbProtocolNumber = $orgNodeOldwirbProtocolNumber and instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment != '') or ($sugNodeOldwirbProtocolNumber/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment"/><ix:attr value="if(($sugNodeOldwirbProtocolNumber/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldwirbProtocolNumber/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldwirbProtocolNumber != $orgNodeOldwirbProtocolNumber, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldwirbProtocolNumber != $thisNodeOldwirbProtocolNumber, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldwirbProtocolNumber = $sugNodeOldwirbProtocolNumber, 'Revision Accepted', if($thisNodeOldwirbProtocolNumber = $orgNodeOldwirbProtocolNumber, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldwirbProtocolNumber"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldwirbProtocolNumber"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldwirbProtocolNumber != $orgNodeOldwirbProtocolNumber and $sugNodeOldwirbProtocolNumber = $orgNodeOldwirbProtocolNumber, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldwirbProtocolNumber != $thisNodeOldwirbProtocolNumber, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldwirbProtocolNumber = $sugNodeOldwirbProtocolNumber, 'Revision Accepted', if($thisNodeOldwirbProtocolNumber = $orgNodeOldwirbProtocolNumber, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldwirbProtocolNumber/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldwirbProtocolNumber"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldwirbProtocolNumber != $orgNodeOldwirbProtocolNumber and $sugNodeOldwirbProtocolNumber = $orgNodeOldwirbProtocolNumber, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexwirbProtocolNumber]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldwirbProtocolNumber"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodewirbProtocolNumber != $orgNodewirbProtocolNumber, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedlewirbProtocolNumber/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedlewirbProtocolNumber/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedlewirbProtocolNumber/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/appType[. = '3'], '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/externalIRBHIPAA/@revIndex" name="revIndexexternalIRBHIPAA"/><exf:variable value="(instance('ins')/amendmentNodes/externalIRBHIPAA[@revIndex=$revIndexexternalIRBHIPAA])" name="amdNodeNeedleexternalIRBHIPAA"/><exf:variable value="(instance('ins')/externalIRBHIPAA[@revIndex=$revIndexexternalIRBHIPAA])" name="thisNodeNeedleexternalIRBHIPAA"/><exf:variable value="instance('ins')/externalIRBHIPAA" name="thisNodeexternalIRBHIPAA"/><exf:variable value="(instance('ins')/original/externalIRBHIPAA[@revIndex=$revIndexexternalIRBHIPAA])" name="orgNodeexternalIRBHIPAA"/><exf:variable value="(instance('ins')/original/externalIRBHIPAA[@revIndex=$revIndexexternalIRBHIPAA])" name="orgNodeVexternalIRBHIPAA"/><exf:variable value="(instance('ins')/suggestions/externalIRBHIPAA[@revIndex=$revIndexexternalIRBHIPAA])" name="sugNodeSetexternalIRBHIPAA"/><exf:variable value="(instance('ins')/suggestions/externalIRBHIPAA[@revIndex=$revIndexexternalIRBHIPAA])" name="sugNodeexternalIRBHIPAA"/><exf:variable value="instance('ins')/previous/review/externalIRBHIPAA/@revIndex" name="revIndexOexternalIRBHIPAA"/><exf:variable value="(instance('ins')/previous/review/externalIRBHIPAA[@revIndex=$revIndexOexternalIRBHIPAA])" name="thisNodeNeedleOldexternalIRBHIPAA"/><exf:variable value="instance('ins')/previous/review/externalIRBHIPAA" name="thisNodeOldexternalIRBHIPAA"/><exf:variable value="(instance('ins')/previous/review/original/externalIRBHIPAA[@revIndex=$revIndexOexternalIRBHIPAA])" name="orgNodeOldexternalIRBHIPAA"/><exf:variable value="(instance('ins')/previous/review/suggestions/externalIRBHIPAA[@revIndex=$revIndexOexternalIRBHIPAA])" name="sugNodeSetOldexternalIRBHIPAA"/><exf:variable value="(instance('ins')/previous/review/suggestions/externalIRBHIPAA[@revIndex=$revIndexOexternalIRBHIPAA])" name="sugNodeOldexternalIRBHIPAA"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/externalIRBHIPAA" appearance="full" class="selectYes" style="width:450px;" id="externalIRBHIPAA"><xf:label>External IRB Will Make HIPAA-Related Considerations</xf:label><xf:hint>
			If external IRB will not review the HIPAA authorization for this study check "No". If external IRB will not grant a waiver of HIPAA authorization and you will access medical records to identify potential subjects for recruitment purposes, check "No".
		</xf:hint><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/externalIRBHIPAA" appearance="full" id="externalIRBHIPAA"><xf:label/><xf:hint>
			If external IRB will not review the HIPAA authorization for this study check "No". If external IRB will not grant a waiver of HIPAA authorization and you will access medical records to identify potential subjects for recruitment purposes, check "No".
		</xf:hint><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			var hipaaCon = model.getValue(".",contextNode);
			var appType = model.getValue("instance('ins')/appType",null);
			appType = (appType == "1" || appType == "4" || hipaaCon == "0") ? "1" : "0";
			if(appType != "1") {
			
				//Clear Data - Collection
				model.setValue("instance('ins')/healthInfoViewedRecorded", "");
				model.setValue("instance('ins')/healthInfoViewedRecordedDescription", "");
				model.setValue("instance('ins')/nonHealthInfoViewedRecorded", "");
				model.setValue("instance('ins')/nonHealthInfoViewedRecordedDescription", "");
				model.setValue("instance('ins')/HIVInfoViewedRecorded", "");
				model.setValue("instance('ins')/HIVInfoInformedConsent", "");
				model.setValue("instance('ins')/dataRecord", "");
				model.setValue("instance('ins')/dataViewed", "");
				model.setValue("instance('ins')/dataRecorded", "");
				model.setValue("instance('ins')/dataCollectionSources", "");
				var dl3 = model.getValue("instance('ins')/dataCollection/@docLink",null);
				if(dl3) model.Frm.deleteDocumentRef(dl3, 'ins');
				model.setValue("instance('ins')/dataCollection/@uri", "");
				model.setValue("instance('ins')/dataCollection/@docLink", "");
				model.setValue("instance('ins')/dataCollection", "");

				//Clear Data - HIPAA	
				model.setValue("instance('ins')/obtainingHIPAAAuthorization", "");
				model.setValue("instance('ins')/requestingWaiverAlteration", "");				
				model.setValue("instance('ins')/explanationWhyNotWOWaiverAlteration", "");
				model.setValue("instance('ins')/researchCouldBeConductedWithoutPHI", "");
				model.setValue("instance('ins')/explanationWhyNotWOPHI", "");
				model.setValue("instance('ins')/howPHIProtected", "");
				model.setValue("instance('ins')/PHIDestroyed", "");
				model.setValue("instance('ins')/WhenHowPHIDestroyed", "");
				model.setValue("instance('ins')/justificationRetainingPHI", "");
				model.setValue("instance('ins')/PHIShared", "");
				model.setValue("instance('ins')/PHISharedDescription", "");
				model.setValue("instance('ins')/PHISharedJustification", "");
				model.setValue("instance('ins')/PHISharedWithWhom", "");
				model.setValue("instance('ins')/PHIObtainedBy", "");

				//Clear Data - HIV/AIDS	
				var nl = model.selectNodeList("instance('ins')/HIVPerson", null);
				for(var ii = 0; ii &lt; nl.length; ii++){
					nl[ii].parentNode.removeChild(nl[ii]);
				}	
				
				//Clear Data - Storage
				model.setValue("instance('ins')/dataStore", "");
				model.setValue("instance('ins')/dataStoreHow", "");
				model.setValue("instance('ins')/dataStoreOther", "");
				model.setValue("instance('ins')/dataAccess", "");
				model.setValue("instance('ins')/dataTrans", "");
				model.setValue("instance('ins')/dataStoreWho", "");
				model.setValue("instance('ins')/dataLength", "");
				model.setValue("instance('ins')/dataSecure", "");
				model.setValue("instance('ins')/dataAnalysis", "");
				
				//Clear Data - Safety Monitoring
				model.setValue("instance('ins')/safetyMonitor", "");
				var n = model.selectNodeList("instance('ins')/primDataMan", null);
				for(var i = n.length; i &gt; 0; i--){
					n[i-1].parentNode.removeChild(n[i-1]);
				}
				var m = model.selectNodeList("instance('ins')/addlDataMan", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				model.USA.refreshArea('primDataMan');
				model.USA.refreshArea('addlDataMan');				
				model.setValue("instance('ins')/specificAims", "");
				model.setValue("instance('ins')/freqDataReview", "");
				model.setValue("instance('ins')/altStudyDesign", "");
				model.setValue("instance('ins')/minToxicity", "");
				model.setValue("instance('ins')/gradingSystem", "");
				model.setValue("instance('ins')/dataAccuracy", "");
				model.setValue("instance('ins')/suspensionReport", "");
				model.setValue("instance('ins')/subjectWithdraw", "");
				model.setValue("instance('ins')/primarySecondarySafetyEndpoints", "");
				dl = model.getValue("instance('ins')/dmcDescription/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dmcDescription/@uri", "");
				model.setValue("instance('ins')/dmcDescription/@docLink", "");
				model.setValue("instance('ins')/dmcDescription", "");
				model.setValue("instance('ins')/dmcCharterAvailable", "");
				dl = model.getValue("instance('ins')/dmcCharter/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dmcCharter/@uri", "");
				model.setValue("instance('ins')/dmcCharter/@docLink", "");
				model.setValue("instance('ins')/dmcCharter", "");

				//Clear Data - Retrospective Review
				model.setValue("instance('ins')/enrollThisSite", "");
				model.setValue("instance('ins')/retroStartDate", "");
				model.setValue("instance('ins')/retroEndDate", "");
				model.setValue("instance('ins')/DataSubmittedFDAPermit", "");
				model.setValue("instance('ins')/DeviceUsedDataSubmittedFDAPermit", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleexternalIRBHIPAA/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldexternalIRBHIPAA = $orgNodeOldexternalIRBHIPAA and $thisNodeOldexternalIRBHIPAA = $orgNodeOldexternalIRBHIPAA and instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment != '') or ($sugNodeOldexternalIRBHIPAA/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment"/><ix:attr value="if(($sugNodeOldexternalIRBHIPAA/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldexternalIRBHIPAA/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldexternalIRBHIPAA != $orgNodeOldexternalIRBHIPAA, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldexternalIRBHIPAA != $thisNodeOldexternalIRBHIPAA, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldexternalIRBHIPAA = $sugNodeOldexternalIRBHIPAA, 'Revision Accepted', if($thisNodeOldexternalIRBHIPAA = $orgNodeOldexternalIRBHIPAA, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldexternalIRBHIPAA"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldexternalIRBHIPAA"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldexternalIRBHIPAA != $orgNodeOldexternalIRBHIPAA and $sugNodeOldexternalIRBHIPAA = $orgNodeOldexternalIRBHIPAA, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldexternalIRBHIPAA != $thisNodeOldexternalIRBHIPAA, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldexternalIRBHIPAA = $sugNodeOldexternalIRBHIPAA, 'Revision Accepted', if($thisNodeOldexternalIRBHIPAA = $orgNodeOldexternalIRBHIPAA, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldexternalIRBHIPAA/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldexternalIRBHIPAA"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldexternalIRBHIPAA != $orgNodeOldexternalIRBHIPAA and $sugNodeOldexternalIRBHIPAA = $orgNodeOldexternalIRBHIPAA, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexexternalIRBHIPAA]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldexternalIRBHIPAA"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeexternalIRBHIPAA != $orgNodeexternalIRBHIPAA, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleexternalIRBHIPAA/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleexternalIRBHIPAA/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleexternalIRBHIPAA/@comment"/></div></div></td></tr><tr class="radiobuttons"><ix:attr value="if(instance('ins')/appType[. = '1'], '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/researchInvolves/@revIndex" name="revIndexresearchInvolves"/><exf:variable value="(instance('ins')/amendmentNodes/researchInvolves[@revIndex=$revIndexresearchInvolves])" name="amdNodeNeedleresearchInvolves"/><exf:variable value="(instance('ins')/researchInvolves[@revIndex=$revIndexresearchInvolves])" name="thisNodeNeedleresearchInvolves"/><exf:variable value="instance('ins')/researchInvolves" name="thisNodeVresearchInvolves"/><exf:variable value="instance('cats')/researchInvolves/type[@id=$thisNodeVresearchInvolves]/@name" name="thisNoderesearchInvolves"/><exf:variable value="(instance('ins')/original/researchInvolves[@revIndex=$revIndexresearchInvolves])" name="orgNodeVresearchInvolves"/><exf:variable value="instance('cats')/researchInvolves/type[@id=$orgNodeVresearchInvolves]/@name" name="orgNoderesearchInvolves"/><exf:variable value="(instance('ins')/suggestions/researchInvolves[@revIndex=$revIndexresearchInvolves])" name="sugNodeSetresearchInvolves"/><exf:variable value="(instance('ins')/suggestions/researchInvolves[@revIndex=$revIndexresearchInvolves])" name="sugNodeVresearchInvolves"/><exf:variable value="instance('cats')/researchInvolves/type[@id=$sugNodeVresearchInvolves]/@name" name="sugNoderesearchInvolves"/><exf:variable value="instance('ins')/previous/review/researchInvolves/@revIndex" name="revIndexOresearchInvolves"/><exf:variable value="(instance('ins')/previous/review/researchInvolves[@revIndex=$revIndexOresearchInvolves])" name="thisNodeNeedleOldresearchInvolves"/><exf:variable value="instance('ins')/previous/review/researchInvolves" name="thisNodeVOldresearchInvolves"/><exf:variable value="instance('cats')/researchInvolves/type[@id=$thisNodeVOldresearchInvolves]/@name" name="thisNodeOldresearchInvolves"/><exf:variable value="(instance('ins')/previous/review/original/researchInvolves[@revIndex=$revIndexOresearchInvolves])" name="orgNodeVOldresearchInvolves"/><exf:variable value="instance('cats')/researchInvolves/type[@id=$orgNodeVOldresearchInvolves]/@name" name="orgNodeOldresearchInvolves"/><exf:variable value="(instance('ins')/previous/review/suggestions/researchInvolves[@revIndex=$revIndexOresearchInvolves])" name="sugNodeSetOldresearchInvolves"/><exf:variable value="(instance('ins')/previous/review/suggestions/researchInvolves[@revIndex=$revIndexOresearchInvolves])" name="sugNodeVOldresearchInvolves"/><exf:variable value="instance('cats')/researchInvolves/type[@id=$sugNodeVOldresearchInvolves]/@name" name="sugNodeOldresearchInvolves"/><exf:variable value="instance('cats')/researchInvolves/type[@id=$sugNodeVOldresearchInvolves]/@name" name="sugNodeOldresearchInvolves"/><xf:select1 ref="instance('ins')/researchInvolves" appearance="full" id="researchInvolves"><xf:label>Research Involves</xf:label><xf:repeat nodeset="instance('cats')/researchInvolves/type"><xf:item><xf:label><xf:output value="@name"/></xf:label><xf:value><xf:output value="@id"/></xf:value></xf:item></xf:repeat><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			y = model.getValue("instance('ins')/appType",contextNode);
			if(x != '2' &amp;&amp; x != '3') {
				model.setValue("instance('ins')/useHUD", "");
				model.setValue("instance('ins')/invDevs", "");
				model.setValue("instance('ins')/bankingSpecimens", "");											
				
				//Clear Subject - Setting and Resources
				model.setValue("instance('ins')/settingResearch", "");
				model.setValue("instance('ins')/settingResearchOther", "");
				model.setValue("instance('ins')/neededNumSubjects", "");
				model.setValue("instance('ins')/numSubjectsCompleteStudy", "");
				model.setValue("instance('ins')/feasibilityRecruitmentGoals", "");
				model.setValue("instance('ins')/facilitiesForConductingResearch", "");
				model.setValue("instance('ins')/multiCenter", "");
				model.setValue("instance('ins')/descMultiCenter", "");
				model.setValue("instance('ins')/multiCenterISMPIResponsible", "");
				model.setValue("instance('ins')/isCBPR", "");
				model.setValue("instance('ins')/descCBPR", "");
				
				//Clear Subject - Population
				model.setValue("instance('ins')/inclusionCriteria", "");
				model.setValue("instance('ins')/exclusionCriteria", "");
				model.setValue("instance('ins')/enrollRestrictions", "");
				model.setValue("instance('ins')/justifyRestrictions", "");
				model.setValue("instance('ins')/ageRange", "");
				model.setValue("instance('ins')/population", "");
				model.setValue("instance('ins')/race", "");					
				model.setValue("instance('ins')/otherAspects", "");
				model.setValue("instance('ins')/otherSafeguards", "");
				
				//Clear Subject - Participation
				model.setValue("instance('ins')/studyTimeline", "");
				model.setValue("instance('ins')/studyTimelineA", "");
				model.setValue("instance('ins')/studyTimelineB", "");
				model.setValue("instance('ins')/subjectWithdrawal", "");
				model.setValue("instance('ins')/investigatorWithdrawSubjects", "");
				model.setValue("instance('ins')/recruitingParticipants", "");
				model.setValue("instance('ins')/recMethod", "");
				model.setValue("instance('ins')/recMethodOther", "");
				model.setValue("instance('ins')/howParticipantIdentified", "");
				model.setValue("instance('ins')/approachParticipant", "");
				model.setValue("instance('ins')/researchIntroduced", "");
				model.setValue("instance('ins')/howParticipantScreened", "");
				
				//Clear Subject - Risk and Benefits
				model.setValue("instance('ins')/subjectRisks", "");
				model.setValue("instance('ins')/proceduresToLessenRiskDescription", "");
				model.setValue("instance('ins')/harmProvision", "");
				model.setValue("instance('ins')/subjectBenefits", "");
				model.setValue("instance('ins')/subjectPayment", "");
				model.setValue("instance('ins')/subjectPrivacy", "");
				model.setValue("instance('ins')/subjectImpact", "");
				
				//Clear Subject - Children
				model.setValue("instance('ins')/subGreat", "");
				
				//Clear Subject - Pregnant Women
				model.setValue("instance('ins')/subPreg", "");
				model.setValue("instance('ins')/subPregData", "");
				
				//Clear Subject - Prisoners
				model.setValue("instance('ins')/prisonerCategoryResearchInstruction", "");
				model.setValue("instance('ins')/prisonerWhoMayBenefit", "");
				
				//Clear Subject - Adults Without Capacity
				model.setValue("instance('ins')/directBenefitToSubjects", "");
				model.setValue("instance('ins')/assentRequiredOf", "");
				model.setValue("instance('ins')/riskToSubjects", "");
				
				//Clear Subject - Enrollment
				model.setValue("instance('ins')/totalEnrolled", "");

				//Clear Data - Safety Monitoring
				model.setValue("instance('ins')/safetyMonitor", "");
				var n = model.selectNodeList("instance('ins')/primDataMan", null);
				for(var i = n.length; i &gt; 0; i--){
					n[i-1].parentNode.removeChild(n[i-1]);
				}
				var m = model.selectNodeList("instance('ins')/addlDataMan", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				model.USA.refreshArea('primDataMan');
				model.USA.refreshArea('addlDataMan');				
				model.setValue("instance('ins')/specificAims", "");
				model.setValue("instance('ins')/freqDataReview", "");
				model.setValue("instance('ins')/altStudyDesign", "");
				model.setValue("instance('ins')/minToxicity", "");
				model.setValue("instance('ins')/gradingSystem", "");
				model.setValue("instance('ins')/dataAccuracy", "");
				model.setValue("instance('ins')/suspensionReport", "");
				model.setValue("instance('ins')/subjectWithdraw", "");
				model.setValue("instance('ins')/primarySecondarySafetyEndpoints", "");
				dl = model.getValue("instance('ins')/dmcDescription/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dmcDescription/@uri", "");
				model.setValue("instance('ins')/dmcDescription/@docLink", "");
				model.setValue("instance('ins')/dmcDescription", "");
				model.setValue("instance('ins')/dmcCharterAvailable", "");
				dl = model.getValue("instance('ins')/dmcCharter/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dmcCharter/@uri", "");
				model.setValue("instance('ins')/dmcCharter/@docLink", "");
				model.setValue("instance('ins')/dmcCharter", "");

				//Clear Devices - Investigational Devices
				if(model.getValue("count(instance('ins')/Device)") * 1 != 0) {
					model.USA.removeALLMSSMDevices(["main2"]);
				}

				//Clear Devices - Humanitarian Use Devices
				model.setValue("instance('ins')/dataHUD", "");
				model.setValue("instance('ins')/hudNum", "");
				model.setValue("instance('ins')/hudFDA", "");
				dl = model.getValue("instance('ins')/hudApprovalDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudApprovalDoc/@uri", "");
				model.setValue("instance('ins')/hudApprovalDoc/@docLink", "");
				model.setValue("instance('ins')/hudApprovalDoc", "");
				dl = model.getValue("instance('ins')/hudUseDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudUseDoc/@uri", "");
				model.setValue("instance('ins')/hudUseDoc/@docLink", "");
				model.setValue("instance('ins')/hudUseDoc", "");
				dl = model.getValue("instance('ins')/hudProductDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudProductDoc/@uri", "");
				model.setValue("instance('ins')/hudProductDoc/@docLink", "");
				model.setValue("instance('ins')/hudProductDoc", "");
				dl = model.getValue("instance('ins')/hudPatientDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudPatientDoc/@uri", "");
				model.setValue("instance('ins')/hudPatientDoc/@docLink", "");
				model.setValue("instance('ins')/hudPatientDoc", "");

				//Clear Specimen Banking
				model.setValue("instance('ins')/specDescribe", "");
				model.setValue("instance('ins')/specLength", "");
				model.setValue("instance('ins')/specAccess", "");
				model.setValue("instance('ins')/specInfo", "");
				model.setValue("instance('ins')/specimensWillBeReleased", "");
				var nl = model.selectNodeList("instance('ins')/Person[(invitation/@status!='author' or (invitation/@status='author' and role!='co')) and role!='nonProtocol' and not(name = preceding::name)]/@personnelResponsibleSpecimensObtain", null);
				for(var m = 0; m &lt; nl.length; m++) {
					model.setValue("instance('ins')/Person[(invitation/@status!='author' or (invitation/@status='author' and role!='co')) and role!='nonProtocol' and not(name = preceding::name)]["+(m + 1)+"]/@personnelResponsibleSpecimensObtain", "");
				}
				model.setValue("instance('ins')/specRelease", "");
				model.setValue("instance('ins')/specApproval", "");
				model.setValue("instance('ins')/specProvide", "");
				model.setValue("instance('ins')/specimensCanBeObtainedBy", "");	
			}
			if(x != '2' &amp;&amp; x != '3' &amp;&amp; y !='2' &amp;&amp; y != '3')	{				     
				model.setValue("instance('ins')/instPRMC", "");											
				model.setValue("instance('ins')/clinicalTrial", "");
				model.setValue("instance('ins')/invDrugs", "");
				model.setValue("instance('ins')/radiologicalProcedures", "");
				model.setValue("instance('ins')/involvesBiosafety", "");
				model.setValue("instance('ins')/requestingCRUResources", "");
				
				//Clear Cancer
				model.setValue("instance('ins')/instPRMCApp", "");
				var dl = model.getValue("instance('ins')/instPRMCAppLetter/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/instPRMCAppLetter/@uri", "");
				model.setValue("instance('ins')/instPRMCAppLetter/@docLink", "");
				model.setValue("instance('ins')/instPRMCAppLetter", "");				
				
				//Clear Radiation Safety
				model.setValue("instance('ins')/radiologicalProceduresDosimetry", "");
				var dl = model.getValue("instance('ins')/dosimetryChart/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dosimetryChart/@uri", "");
				model.setValue("instance('ins')/dosimetryChart/@docLink", "");
				model.setValue("instance('ins')/dosimetryChart", "");				
				model.setValue("instance('ins')/involvesRadiologicalProcedures", "");
				model.setValue("instance('ins')/involvesStandardCareRadiologicalProceduresOnly", "");
				
				//Clear Clinical Research Unit - Summary
				model.setValue("instance('ins')/studyWillUtilize", "");
				model.setValue("instance('ins')/includesStandardCare", "");
				model.setValue("instance('ins')/rareDiseaseStudy", "");
				model.setValue("instance('ins')/CRUPersonnel", "");
				model.setValue("instance('ins')/CRUFacilities", "");
				model.setValue("instance('ins')/descPerformedCRU", "");
				
				//Clear Clinical Research Unit - Requirements
				model.setValue("instance('ins')/totalNumberPatientsEvaluatedCRU", "");
				model.setValue("instance('ins')/outpatientVisits", "");
				model.setValue("instance('ins')/hoursPerVisit", "");
				model.setValue("instance('ins')/uniqueSituations", "");
				model.setValue("instance('ins')/timeDayTesting", "");
				model.setValue("instance('ins')/timeDayTestingSpecify", "");
				model.setValue("instance('ins')/specialNursingReqs", "");
				model.setValue("instance('ins')/specialNursingReqsSpecify", "");
				model.setValue("instance('ins')/specialInfectionControlReqs", "");
				model.setValue("instance('ins')/specialInfectionControlReqsSpecify", "");
				model.setValue("instance('ins')/fallsPrecaution", "");
				model.setValue("instance('ins')/seizurePrecaution", "");
				model.setValue("instance('ins')/patientsCareSelves", "");
				model.setValue("instance('ins')/requireNursingAssistance", "");
				model.setValue("instance('ins')/requireNursingAssistanceSpecify", "");
				model.setValue("instance('ins')/dietaryReqs", "");
				model.setValue("instance('ins')/dietaryReqsSpecify", "");
				
				//Clear Clinical Research Unit - Costs
				model.setValue("instance('ins')/totalCosts", "");
				model.setValue("instance('ins')/totalCRUCosts", "");
				model.setValue("instance('ins')/compTotalCRU", "");
				model.setValue("instance('ins')/totalCRU", "");
				var m = model.selectNodeList("instance('ins')/Cost", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				model.USA.refreshArea('Cost');
			}
			
			//onchange event for Procedure tab
			var bResearchInv = model.getValue("instance('ins')/researchInvolves",null);
			var bExSummary = model.getValue("instance('ins')/exemptSurveyInstruments",null);
			var bAppType = model.getValue("instance('ins')/appType",null);
			var bCRUnit = model.getValue("instance('ins')/requestingCRUResources",null);
			var procedures = (bResearchInv == "2" || bResearchInv == "3" || bExSummary == "1" || (bAppType == "2" &amp;&amp; bCRUnit == "1") || (bAppType == "3" &amp;&amp; bCRUnit == "1")) ? "1" : "0";
			if(procedures != 1) {
			
				//Clear Procedures - Narrative
				model.setValue("instance('ins')/studyDesignDescription", "");
				model.setValue("instance('ins')/proceduresDescription", "");
				model.setValue("instance('ins')/sourceRecordsDescription", "");
				model.setValue("instance('ins')/dataCollectedDescription", "");
				
				//Clear Procedures - Genetic Testing
				model.setValue("instance('ins')/geneticTesting", "");
				model.setValue("instance('ins')/geneticTestingForClinicalPurposes", "");
				
				//Clear Procedures - Details
				model.setValue("instance('ins')/survey", "");
				model.setValue("instance('ins')/typeInstruments", "");				
				model.setValue("instance('ins')/standardizedInstruments", "");
				model.setValue("instance('ins')/investigatorInstrumentsDescription", "");
				model.setValue("instance('ins')/avTaping", "");
				model.setValue("instance('ins')/avTapingSubjectsIdentifiable", "");
				model.setValue("instance('ins')/avTapingMediaDiscarded", "");
				model.setValue("instance('ins')/avTapingMediaStorageDuration", "");
				model.setValue("instance('ins')/avTapingMediaStorageConfidentiality", "");
				model.setValue("instance('ins')/avTapingMediaShared", "");
				model.setValue("instance('ins')/avTapingRequiredForParticipation", "");
				model.setValue("instance('ins')/deception", "");
				model.setValue("instance('ins')/deceptionNotes", "");
				model.setValue("instance('ins')/shareResults", "");
				model.setValue("instance('ins')/descShareResults", "");
				model.setValue("instance('ins')/descShareResultsWhen", "");
			}
			//Clear Procedures - Instruments
			var bInstrumentsBeingUsed = model.getValue("instance('ins')/typeInstruments", null);
			var bExSummary = model.getValue("instance('ins')/exemptSurveyInstruments",null);
			if(bExSummary != '1' &amp;&amp; bInstrumentsBeingUsed.indexOf('2') &lt; 0) {
				var nl = model.selectNodeList("instance('ins')/instruments", null);
				for(var m = 0; m &lt; nl.length; m++) {
					var dl = model.getValue("instance('ins')/instruments["+(m + 1)+"]/document/@docLink", null);
					if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				}
				for(var m = 0; m &lt; nl.length; m++) {
					nl[m].parentNode.removeChild(nl[m]);
				}
				model.USA.refreshArea('instruments');
			}
			//Clear Procedures - Compensation
			var cResearchInv = model.getValue("instance('ins')/researchInvolves",null);
			var cAppType = model.getValue("instance('ins')/appType",null);
			var cCRUnit = model.getValue("instance('ins')/requestingCRUResources",null);
			var compensation = (cResearchInv == "2" || cResearchInv == "3" || (bAppType == "2" &amp;&amp; bCRUnit == "1") || (bAppType == "3" &amp;&amp; bCRUnit == "1")) ? "1" : "0";
			if(compensation != '1') {
				model.setValue("instance('ins')/compParticipation", "");
				model.setValue("instance('ins')/compTotal", "");
				model.setValue("instance('ins')/compTotalCRU", "");
				var m = model.selectNodeList("instance('ins')/Compensation", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				model.USA.refreshArea('Compensation');
			}
			
			//Clear Data - Retrospective Review
			var exemptInteractionSubjects = model.getValue("instance('ins')/exemptInteractionSubjects", null);
			var involveRetroDataBioSpecimens = model.getValue("instance('ins')/involveRetroDataBioSpecimens", null);
			var cAppType = model.getValue("instance('ins')/appType",null);
			var rResearchInv = model.getValue(".", contextNode);
			if((rResearchInv != "1" &amp;&amp; rResearchInv != "2") || (cAppType != '4' &amp;&amp; exemptInteractionSubjects != "0" &amp;&amp; involveRetroDataBioSpecimens != "1")) {
				model.setValue("instance('ins')/enrollThisSite", "");
				model.setValue("instance('ins')/retroStartDate", "");
				model.setValue("instance('ins')/retroEndDate", "");
				model.setValue("instance('ins')/DataSubmittedFDAPermit", "");
				model.setValue("instance('ins')/DeviceUsedDataSubmittedFDAPermit", "");
			}
			
			//Clear Financial Administration
			var fundingCat = model.getValue("instance('ins')/fundingSourceComp/Organization/fundingCat[. = 'Industry']",null);
			var fDrugBiologics = model.getValue(".",contextNode);
			var finvDevice = model.getValue("instance('ins')/invDevs",null);
			var fClinicalTrial = model.getValue("instance('ins')/clinicalTrial",null);
			var finance = "0";
			if(fundingCat == "Industry" || fDrugBiologics == "1" || finvDevice == "1" || fClinicalTrial == "1") {
				finance = "1";
			} else {
				finance = "0";
			}
			if(finance != "1") {
				model.setValue("instance('ins')/FACTSClinicalResearchStudyCategory", "");
				model.setValue("instance('ins')/facts_payment_option", "");
				model.setValue("instance('ins')/facts_payment_option_1", "");
				model.setValue("instance('ins')/facts_payment_option_2", "");
				model.setValue("instance('ins')/facts_payment_option_5", "");
			}
			
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleresearchInvolves/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldresearchInvolves = $orgNodeOldresearchInvolves and $thisNodeOldresearchInvolves = $orgNodeOldresearchInvolves and instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment != '') or ($sugNodeOldresearchInvolves/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment"/><ix:attr value="if(($sugNodeOldresearchInvolves/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldresearchInvolves/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldresearchInvolves != $orgNodeOldresearchInvolves, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldresearchInvolves != $thisNodeOldresearchInvolves, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldresearchInvolves = $sugNodeOldresearchInvolves, 'Revision Accepted', if($thisNodeOldresearchInvolves = $orgNodeOldresearchInvolves, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldresearchInvolves"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldresearchInvolves"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldresearchInvolves != $orgNodeOldresearchInvolves and $sugNodeOldresearchInvolves = $orgNodeOldresearchInvolves, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldresearchInvolves != $thisNodeOldresearchInvolves, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldresearchInvolves = $sugNodeOldresearchInvolves, 'Revision Accepted', if($thisNodeOldresearchInvolves = $orgNodeOldresearchInvolves, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldresearchInvolves/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldresearchInvolves"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldresearchInvolves != $orgNodeOldresearchInvolves and $sugNodeOldresearchInvolves = $orgNodeOldresearchInvolves, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchInvolves]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldresearchInvolves"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNoderesearchInvolves != $orgNoderesearchInvolves, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleresearchInvolves/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleresearchInvolves/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleresearchInvolves/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/appType[. = '1'], '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/consentingParticipants/@revIndex" name="revIndexconsentingParticipants"/><exf:variable value="(instance('ins')/amendmentNodes/consentingParticipants[@revIndex=$revIndexconsentingParticipants])" name="amdNodeNeedleconsentingParticipants"/><exf:variable value="(instance('ins')/consentingParticipants[@revIndex=$revIndexconsentingParticipants])" name="thisNodeNeedleconsentingParticipants"/><exf:variable value="instance('ins')/consentingParticipants" name="thisNodeconsentingParticipants"/><exf:variable value="(instance('ins')/original/consentingParticipants[@revIndex=$revIndexconsentingParticipants])" name="orgNodeconsentingParticipants"/><exf:variable value="(instance('ins')/original/consentingParticipants[@revIndex=$revIndexconsentingParticipants])" name="orgNodeVconsentingParticipants"/><exf:variable value="(instance('ins')/suggestions/consentingParticipants[@revIndex=$revIndexconsentingParticipants])" name="sugNodeSetconsentingParticipants"/><exf:variable value="(instance('ins')/suggestions/consentingParticipants[@revIndex=$revIndexconsentingParticipants])" name="sugNodeconsentingParticipants"/><exf:variable value="instance('ins')/previous/review/consentingParticipants/@revIndex" name="revIndexOconsentingParticipants"/><exf:variable value="(instance('ins')/previous/review/consentingParticipants[@revIndex=$revIndexOconsentingParticipants])" name="thisNodeNeedleOldconsentingParticipants"/><exf:variable value="instance('ins')/previous/review/consentingParticipants" name="thisNodeOldconsentingParticipants"/><exf:variable value="(instance('ins')/previous/review/original/consentingParticipants[@revIndex=$revIndexOconsentingParticipants])" name="orgNodeOldconsentingParticipants"/><exf:variable value="(instance('ins')/previous/review/suggestions/consentingParticipants[@revIndex=$revIndexOconsentingParticipants])" name="sugNodeSetOldconsentingParticipants"/><exf:variable value="(instance('ins')/previous/review/suggestions/consentingParticipants[@revIndex=$revIndexOconsentingParticipants])" name="sugNodeOldconsentingParticipants"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/consentingParticipants" appearance="full" class="selectYes" id="consentingParticipants"><xf:label>Consenting Participants</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/consentingParticipants" appearance="full" id="consentingParticipants"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {
				model.setValue("instance('ins')/requestingWaiverForAnyProcedures", "");
				
				//Clear Consent - Obtaining Consent
				model.setValue("instance('ins')/concentProcess", "");
				var dl1 = model.getValue("instance('ins')/consentDoc/@docLink",null);
				if(dl1) model.Frm.deleteDocumentRef(dl1, 'ins');
				model.setValue("instance('ins')/consentDoc/@uri", "");
				model.setValue("instance('ins')/consentDoc/@docLink", "");
				model.setValue("instance('ins')/consentDoc", "");
				model.setValue("instance('ins')/whereWhenConcent", "");
				model.setValue("instance('ins')/consentWaiting", "");
				model.setValue("instance('ins')/consentSOPHRP", "");
				model.setValue("instance('ins')/consentDescribe", "");
				model.setValue("instance('ins')/consentWritten", "");
				model.setValue("instance('ins')/enrollNonEnglishSpeaking", "");
				model.setValue("instance('ins')/languagesOtherThanEnglish", "");
				model.setValue("instance('ins')/languagesConsentProcess", "");
				model.setValue("instance('ins')/justificationNotEnrollingNonEnglishSpeaking", "");
				
				//Clear Consent - Parental Permission
				model.setValue("instance('ins')/consPermission", "");
				model.setValue("instance('ins')/waiveParentalCriteriaSet", "");
				model.setValue("instance('ins')/waiveParentalCriteriaSetJustify", "");
				var dl = model.getValue("instance('ins')/PPDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/PPDoc/@uri", "");
				model.setValue("instance('ins')/PPDoc/@docLink", "");
				model.setValue("instance('ins')/PPDoc", "");
				model.setValue("instance('ins')/assentPermission", "");
				model.setValue("instance('ins')/assentProcess", "");
				var dl1 = model.getValue("instance('ins')/assentForm/@docLink",null);
				if(dl1) model.Frm.deleteDocumentRef(dl1, 'ins');
				model.setValue("instance('ins')/assentForm/@uri", "");
				model.setValue("instance('ins')/assentForm/@docLink", "");
				model.setValue("instance('ins')/assentForm", "");
				model.setValue("instance('ins')/assentDocumentProcess", "");
				model.setValue("instance('ins')/assentDocumentDesc", "");
				model.setValue("instance('ins')/consCapability", "");
				model.setValue("instance('ins')/waiveAssentCriteriaSet", "");
				model.setValue("instance('ins')/waiveAssentCriteriaSetJustification", "");
				model.setValue("instance('ins')/designedBenefits", "");
				
				//Clear Consent - Legally Authorized Representative
				model.setValue("instance('ins')/indCapableOfConsent", "");
				model.setValue("instance('ins')/permissionList", "");
				model.setValue("instance('ins')/assentOfSubjects", "");
				
				//Clear Consent - Waiver of Signed Consent
				model.setValue("instance('ins')/identJustification", "");
				model.setValue("instance('ins')/waiverOfSignedConsentJustification", "");
				
				//Clear Consent - Documents
				var nl = model.selectNodeList("instance('ins')/consentDocs", null);
				for(var m = 0; m &lt; nl.length; m++) {
					var dl = model.getValue("instance('ins')/consentDocs["+(m + 1)+"]/document/@docLink", null);
					if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				}
				for(var m = 0; m &lt; nl.length; m++) {
					nl[m].parentNode.removeChild(nl[m]);
				}
				model.USA.refreshArea('consentDocs');
			}
			
			//Clear Consent - Waiver of Informed Consent
			var requestingWaiverForAnyProcedures = model.getValue("instance('ins')/requestingWaiverForAnyProcedures", null);
			if(x != '0' &amp;&amp; requestingWaiverForAnyProcedures != '1') {
				model.setValue("instance('ins')/requestingWaiverFor", "");
				model.setValue("instance('ins')/consentWaiver", "");
				model.setValue("instance('ins')/noMoreThanMinRisk", "");
				model.setValue("instance('ins')/waiverNotAffectParticipants", "");
				model.setValue("instance('ins')/justifyWaiver", "");
				model.setValue("instance('ins')/provideAdditionalInformation", "");
				model.setValue("instance('ins')/describeAlterationConsent", "");
				model.setValue("instance('ins')/justifyAlterationConsent", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleconsentingParticipants/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldconsentingParticipants = $orgNodeOldconsentingParticipants and $thisNodeOldconsentingParticipants = $orgNodeOldconsentingParticipants and instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment != '') or ($sugNodeOldconsentingParticipants/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment"/><ix:attr value="if(($sugNodeOldconsentingParticipants/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldconsentingParticipants/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldconsentingParticipants != $orgNodeOldconsentingParticipants, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldconsentingParticipants != $thisNodeOldconsentingParticipants, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldconsentingParticipants = $sugNodeOldconsentingParticipants, 'Revision Accepted', if($thisNodeOldconsentingParticipants = $orgNodeOldconsentingParticipants, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldconsentingParticipants"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldconsentingParticipants"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldconsentingParticipants != $orgNodeOldconsentingParticipants and $sugNodeOldconsentingParticipants = $orgNodeOldconsentingParticipants, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldconsentingParticipants != $thisNodeOldconsentingParticipants, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldconsentingParticipants = $sugNodeOldconsentingParticipants, 'Revision Accepted', if($thisNodeOldconsentingParticipants = $orgNodeOldconsentingParticipants, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldconsentingParticipants/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldconsentingParticipants"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldconsentingParticipants != $orgNodeOldconsentingParticipants and $sugNodeOldconsentingParticipants = $orgNodeOldconsentingParticipants, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexconsentingParticipants]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldconsentingParticipants"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeconsentingParticipants != $orgNodeconsentingParticipants, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleconsentingParticipants/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleconsentingParticipants/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleconsentingParticipants/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/consentingParticipants = '1', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/requestingWaiverForAnyProcedures/@revIndex" name="revIndexrequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/amendmentNodes/requestingWaiverForAnyProcedures[@revIndex=$revIndexrequestingWaiverForAnyProcedures])" name="amdNodeNeedlerequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/requestingWaiverForAnyProcedures[@revIndex=$revIndexrequestingWaiverForAnyProcedures])" name="thisNodeNeedlerequestingWaiverForAnyProcedures"/><exf:variable value="instance('ins')/requestingWaiverForAnyProcedures" name="thisNoderequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/original/requestingWaiverForAnyProcedures[@revIndex=$revIndexrequestingWaiverForAnyProcedures])" name="orgNoderequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/original/requestingWaiverForAnyProcedures[@revIndex=$revIndexrequestingWaiverForAnyProcedures])" name="orgNodeVrequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/suggestions/requestingWaiverForAnyProcedures[@revIndex=$revIndexrequestingWaiverForAnyProcedures])" name="sugNodeSetrequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/suggestions/requestingWaiverForAnyProcedures[@revIndex=$revIndexrequestingWaiverForAnyProcedures])" name="sugNoderequestingWaiverForAnyProcedures"/><exf:variable value="instance('ins')/previous/review/requestingWaiverForAnyProcedures/@revIndex" name="revIndexOrequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/previous/review/requestingWaiverForAnyProcedures[@revIndex=$revIndexOrequestingWaiverForAnyProcedures])" name="thisNodeNeedleOldrequestingWaiverForAnyProcedures"/><exf:variable value="instance('ins')/previous/review/requestingWaiverForAnyProcedures" name="thisNodeOldrequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/previous/review/original/requestingWaiverForAnyProcedures[@revIndex=$revIndexOrequestingWaiverForAnyProcedures])" name="orgNodeOldrequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/previous/review/suggestions/requestingWaiverForAnyProcedures[@revIndex=$revIndexOrequestingWaiverForAnyProcedures])" name="sugNodeSetOldrequestingWaiverForAnyProcedures"/><exf:variable value="(instance('ins')/previous/review/suggestions/requestingWaiverForAnyProcedures[@revIndex=$revIndexOrequestingWaiverForAnyProcedures])" name="sugNodeOldrequestingWaiverForAnyProcedures"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/requestingWaiverForAnyProcedures" appearance="full" class="selectYes" style="width:450px;" id="requestingWaiverForAnyProcedures"><xf:label>Requesting Waiver or Alteration of Informed Consent for Any Procedures</xf:label><xf:hint>E.g. Withholding of information, deception studies.</xf:hint><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/requestingWaiverForAnyProcedures" appearance="full" id="requestingWaiverForAnyProcedures"><xf:label/><xf:hint>E.g. Withholding of information, deception studies.</xf:hint><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			var consentingParticipants = model.getValue("instance('ins')/consentingParticipants", null);
			if(x != '1' &amp;&amp; consentingParticipants != '0') {
				model.setValue("instance('ins')/requestingWaiverFor", "");
				model.setValue("instance('ins')/consentWaiver", "");
				model.setValue("instance('ins')/noMoreThanMinRisk", "");
				model.setValue("instance('ins')/waiverNotAffectParticipants", "");
				model.setValue("instance('ins')/justifyWaiver", "");
				model.setValue("instance('ins')/provideAdditionalInformation", "");
				model.setValue("instance('ins')/describeAlterationConsent", "");
				model.setValue("instance('ins')/justifyAlterationConsent", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedlerequestingWaiverForAnyProcedures/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldrequestingWaiverForAnyProcedures = $orgNodeOldrequestingWaiverForAnyProcedures and $thisNodeOldrequestingWaiverForAnyProcedures = $orgNodeOldrequestingWaiverForAnyProcedures and instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment != '') or ($sugNodeOldrequestingWaiverForAnyProcedures/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment"/><ix:attr value="if(($sugNodeOldrequestingWaiverForAnyProcedures/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldrequestingWaiverForAnyProcedures/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldrequestingWaiverForAnyProcedures != $orgNodeOldrequestingWaiverForAnyProcedures, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldrequestingWaiverForAnyProcedures != $thisNodeOldrequestingWaiverForAnyProcedures, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldrequestingWaiverForAnyProcedures = $sugNodeOldrequestingWaiverForAnyProcedures, 'Revision Accepted', if($thisNodeOldrequestingWaiverForAnyProcedures = $orgNodeOldrequestingWaiverForAnyProcedures, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldrequestingWaiverForAnyProcedures"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldrequestingWaiverForAnyProcedures"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldrequestingWaiverForAnyProcedures != $orgNodeOldrequestingWaiverForAnyProcedures and $sugNodeOldrequestingWaiverForAnyProcedures = $orgNodeOldrequestingWaiverForAnyProcedures, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldrequestingWaiverForAnyProcedures != $thisNodeOldrequestingWaiverForAnyProcedures, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldrequestingWaiverForAnyProcedures = $sugNodeOldrequestingWaiverForAnyProcedures, 'Revision Accepted', if($thisNodeOldrequestingWaiverForAnyProcedures = $orgNodeOldrequestingWaiverForAnyProcedures, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldrequestingWaiverForAnyProcedures/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldrequestingWaiverForAnyProcedures"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldrequestingWaiverForAnyProcedures != $orgNodeOldrequestingWaiverForAnyProcedures and $sugNodeOldrequestingWaiverForAnyProcedures = $orgNodeOldrequestingWaiverForAnyProcedures, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingWaiverForAnyProcedures]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldrequestingWaiverForAnyProcedures"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNoderequestingWaiverForAnyProcedures != $orgNoderequestingWaiverForAnyProcedures, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedlerequestingWaiverForAnyProcedures/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedlerequestingWaiverForAnyProcedures/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedlerequestingWaiverForAnyProcedures/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0, '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/useHUD/@revIndex" name="revIndexuseHUD"/><exf:variable value="(instance('ins')/amendmentNodes/useHUD[@revIndex=$revIndexuseHUD])" name="amdNodeNeedleuseHUD"/><exf:variable value="(instance('ins')/useHUD[@revIndex=$revIndexuseHUD])" name="thisNodeNeedleuseHUD"/><exf:variable value="instance('ins')/useHUD" name="thisNodeuseHUD"/><exf:variable value="(instance('ins')/original/useHUD[@revIndex=$revIndexuseHUD])" name="orgNodeuseHUD"/><exf:variable value="(instance('ins')/original/useHUD[@revIndex=$revIndexuseHUD])" name="orgNodeVuseHUD"/><exf:variable value="(instance('ins')/suggestions/useHUD[@revIndex=$revIndexuseHUD])" name="sugNodeSetuseHUD"/><exf:variable value="(instance('ins')/suggestions/useHUD[@revIndex=$revIndexuseHUD])" name="sugNodeuseHUD"/><exf:variable value="instance('ins')/previous/review/useHUD/@revIndex" name="revIndexOuseHUD"/><exf:variable value="(instance('ins')/previous/review/useHUD[@revIndex=$revIndexOuseHUD])" name="thisNodeNeedleOlduseHUD"/><exf:variable value="instance('ins')/previous/review/useHUD" name="thisNodeOlduseHUD"/><exf:variable value="(instance('ins')/previous/review/original/useHUD[@revIndex=$revIndexOuseHUD])" name="orgNodeOlduseHUD"/><exf:variable value="(instance('ins')/previous/review/suggestions/useHUD[@revIndex=$revIndexOuseHUD])" name="sugNodeSetOlduseHUD"/><exf:variable value="(instance('ins')/previous/review/suggestions/useHUD[@revIndex=$revIndexOuseHUD])" name="sugNodeOlduseHUD"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/useHUD" appearance="full" class="selectYes" id="useHUD"><xf:label>Humanitarian Use Device (HUD) Used Exclusively in the Course of Medical Practice</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/useHUD" appearance="full" id="useHUD"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '0') {
				model.setValue("instance('ins')/invDevs", "");
				
				//Clear Devices - Investigational Devices
				if(model.getValue("count(instance('ins')/Device)") * 1 != 0) {
					model.USA.removeALLMSSMDevices(["main2"]);
				}
				
				//AB Sprint 4 if this is HUD then clear these tabs and data
				if(x=="1"){
					//loop through ET10a and clear out the values
					var nl = model.selectNodeList("instance('ins')/externalSiteApprovals", null);
					for(var m = 0; m &lt; nl.length; m++) {
						model.setValue("instance('ins')/externalSiteApprovals["+(m + 1)+"]/totalEnroll", "");
					}
					
					//Clear Summary - Backgraound tab
					model.setValue("instance('ins')/primarySecondaryEndpoints", "");					
					
					//Clear Subject - Setting and Resources
					model.setValue("instance('ins')/settingResearch", "");
					model.setValue("instance('ins')/settingResearchOther", "");
					model.setValue("instance('ins')/neededNumSubjects", "");
					model.setValue("instance('ins')/numSubjectsCompleteStudy", "");
					
					model.setValue("instance('ins')/feasibilityRecruitmentGoals", "");
					model.setValue("instance('ins')/facilitiesForConductingResearch", "");
					model.setValue("instance('ins')/multiCenter", "");
					model.setValue("instance('ins')/descMultiCenter", "");
					model.setValue("instance('ins')/multiCenterISMPIResponsible", "");
					model.setValue("instance('ins')/isCBPR", "");
					model.setValue("instance('ins')/descCBPR", "");
					
					//Clear Subject - Population
					model.setValue("instance('ins')/inclusionCriteria", "");
					model.setValue("instance('ins')/exclusionCriteria", "");
					model.setValue("instance('ins')/enrollRestrictions", "");
					model.setValue("instance('ins')/justifyRestrictions", "");
					model.setValue("instance('ins')/ageRange", "");
					model.setValue("instance('ins')/population", "");
					model.setValue("instance('ins')/race", "");
					model.setValue("instance('ins')/otherAspects", "");
					model.setValue("instance('ins')/otherSafeguards", "");
					
					//Clear Subject - Participation
					model.setValue("instance('ins')/studyTimeline", "");
					model.setValue("instance('ins')/studyTimelineA", "");
					model.setValue("instance('ins')/studyTimelineB", "");
					model.setValue("instance('ins')/subjectWithdrawal", "");
					model.setValue("instance('ins')/investigatorWithdrawSubjects", "");
					model.setValue("instance('ins')/recruitingParticipants", "");
					model.setValue("instance('ins')/recMethod", "");
					model.setValue("instance('ins')/recMethodOther", "");
					model.setValue("instance('ins')/howParticipantIdentified", "");
					model.setValue("instance('ins')/approachParticipant", "");
					model.setValue("instance('ins')/researchIntroduced", "");
					model.setValue("instance('ins')/howParticipantScreened", "");
					
					//Clear Subject - Risk and Benefits				
					model.setValue("instance('ins')/subjectPayment", "");
					model.setValue("instance('ins')/subjectPrivacy", "");
					model.setValue("instance('ins')/subjectImpact", "");
					
					//Clear Procedures - Narrative
					model.setValue("instance('ins')/studyDesignDescription", "");
					model.setValue("instance('ins')/sourceRecordsDescription", "");
					model.setValue("instance('ins')/dataCollectedDescription", "");
					
					//Clear Procedures - Genetic Testing
					model.setValue("instance('ins')/geneticTesting", "");
					model.setValue("instance('ins')/geneticTestingForClinicalPurposes", "");
					
					//Clear Procedures - Details
					model.setValue("instance('ins')/survey", "");
					model.setValue("instance('ins')/typeInstruments", "");				
					model.setValue("instance('ins')/standardizedInstruments", "");
					model.setValue("instance('ins')/investigatorInstrumentsDescription", "");
					model.setValue("instance('ins')/avTaping", "");
					model.setValue("instance('ins')/avTapingSubjectsIdentifiable", "");
					model.setValue("instance('ins')/avTapingMediaDiscarded", "");
					model.setValue("instance('ins')/avTapingMediaStorageDuration", "");
					model.setValue("instance('ins')/avTapingMediaStorageConfidentiality", "");
					model.setValue("instance('ins')/avTapingMediaShared", "");
					model.setValue("instance('ins')/avTapingRequiredForParticipation", "");
					model.setValue("instance('ins')/deception", "");
					model.setValue("instance('ins')/deceptionNotes", "");
					model.setValue("instance('ins')/shareResults", "");
					model.setValue("instance('ins')/descShareResults", "");
					model.setValue("instance('ins')/descShareResultsWhen", "");					
					
					//Clear Procedures - Compensation
					var cResearchInv = model.getValue("instance('ins')/researchInvolves",null);
					var cAppType = model.getValue("instance('ins')/appType",null);
					var cCRUnit = model.getValue("instance('ins')/requestingCRUResources",null);
					var compensation = (cResearchInv == "2" || cResearchInv == "3" || (bAppType == "2" &amp;&amp; bCRUnit == "1") || (bAppType == "3" &amp;&amp; bCRUnit == "1")) ? "1" : "0";
					if(compensation != '1') {
					model.setValue("instance('ins')/compParticipation", "");
					model.setValue("instance('ins')/compTotal", "");
					model.setValue("instance('ins')/compTotalCRU", "");
					var m = model.selectNodeList("instance('ins')/Compensation", null);
					for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
					}
					model.USA.refreshArea('Compensation');
					}
					
					//Clear Data - Collection
					model.setValue("instance('ins')/healthInfoViewedRecorded", "");
					model.setValue("instance('ins')/healthInfoViewedRecordedDescription", "");
					model.setValue("instance('ins')/nonHealthInfoViewedRecorded", "");
					model.setValue("instance('ins')/nonHealthInfoViewedRecordedDescription", "");
					model.setValue("instance('ins')/HIVInfoViewedRecorded", "");
					model.setValue("instance('ins')/HIVInfoInformedConsent", "");
					model.setValue("instance('ins')/dataRecord", "");
					model.setValue("instance('ins')/dataViewed", "");
					model.setValue("instance('ins')/dataRecorded", "");
					model.setValue("instance('ins')/dataCollectionSources", "");
					var dl3 = model.getValue("instance('ins')/dataCollection/@docLink",null);
					if(dl3) model.Frm.deleteDocumentRef(dl3, 'ins');
					model.setValue("instance('ins')/dataCollection/@uri", "");
					model.setValue("instance('ins')/dataCollection/@docLink", "");
					model.setValue("instance('ins')/dataCollection", "");    	
					
					//Clear Data - HIPAA	
					model.setValue("instance('ins')/obtainingHIPAAAuthorization", "");
					model.setValue("instance('ins')/requestingWaiverAlteration", "");				
					model.setValue("instance('ins')/explanationWhyNotWOWaiverAlteration", "");
					model.setValue("instance('ins')/researchCouldBeConductedWithoutPHI", "");
					model.setValue("instance('ins')/explanationWhyNotWOPHI", "");
					model.setValue("instance('ins')/howPHIProtected", "");
					model.setValue("instance('ins')/PHIDestroyed", "");
					model.setValue("instance('ins')/WhenHowPHIDestroyed", "");
					model.setValue("instance('ins')/justificationRetainingPHI", "");
					model.setValue("instance('ins')/PHIShared", "");
					model.setValue("instance('ins')/PHISharedDescription", "");
					model.setValue("instance('ins')/PHISharedJustification", "");
					model.setValue("instance('ins')/PHISharedWithWhom", "");
					model.setValue("instance('ins')/PHIObtainedBy", "");
					
					//Clear Data - HIV/AIDS	
					var nl = model.selectNodeList("instance('ins')/HIVPerson", null);
					for(var ii = 0; ii &lt; nl.length; ii++){
					nl[ii].parentNode.removeChild(nl[ii]);
					}
					
					//Clear Data - Storage
					model.setValue("instance('ins')/dataStore", "");
					model.setValue("instance('ins')/dataStoreHow", "");
					model.setValue("instance('ins')/dataStoreOther", "");
					model.setValue("instance('ins')/dataAccess", "");
					model.setValue("instance('ins')/dataTrans", "");
					model.setValue("instance('ins')/dataStoreWho", "");
					model.setValue("instance('ins')/dataLength", "");
					model.setValue("instance('ins')/dataSecure", "");
					model.setValue("instance('ins')/dataAnalysis", "");
					
					//Clear Data - Safety Monitoring
					model.setValue("instance('ins')/safetyMonitor", "");
					var n = model.selectNodeList("instance('ins')/primDataMan", null);
					for(var i = n.length; i &gt; 0; i--){
					n[i-1].parentNode.removeChild(n[i-1]);
					}
					var m = model.selectNodeList("instance('ins')/addlDataMan", null);
					for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
					}
					model.USA.refreshArea('primDataMan');
					model.USA.refreshArea('addlDataMan');				
					model.setValue("instance('ins')/specificAims", "");
					model.setValue("instance('ins')/freqDataReview", "");
					model.setValue("instance('ins')/altStudyDesign", "");
					model.setValue("instance('ins')/minToxicity", "");
					model.setValue("instance('ins')/gradingSystem", "");
					model.setValue("instance('ins')/dataAccuracy", "");
					model.setValue("instance('ins')/suspensionReport", "");
					model.setValue("instance('ins')/subjectWithdraw", "");
					model.setValue("instance('ins')/primarySecondarySafetyEndpoints", "");
					dl = model.getValue("instance('ins')/dmcDescription/@docLink",null);
					if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
					model.setValue("instance('ins')/dmcDescription/@uri", "");
					model.setValue("instance('ins')/dmcDescription/@docLink", "");
					model.setValue("instance('ins')/dmcDescription", "");
					model.setValue("instance('ins')/dmcCharterAvailable", "");
					dl = model.getValue("instance('ins')/dmcCharter/@docLink",null);
					if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
					model.setValue("instance('ins')/dmcCharter/@uri", "");
					model.setValue("instance('ins')/dmcCharter/@docLink", "");
					model.setValue("instance('ins')/dmcCharter", "");	
					
					//Clear Consent - Obtaining Consent
					model.setValue("instance('ins')/consentWritten", "");
					model.setValue("instance('ins')/consentWaiting", "");
					model.setValue("instance('ins')/consentDescribe", "");
					
				}
			}
			if(x != '1') {
				//Clear Devices - Humanitarian Use Devices
				model.setValue("instance('ins')/dataHUD", "");
				model.setValue("instance('ins')/hudNum", "");
				model.setValue("instance('ins')/hudFDA", "");
				dl = model.getValue("instance('ins')/hudApprovalDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudApprovalDoc/@uri", "");
				model.setValue("instance('ins')/hudApprovalDoc/@docLink", "");
				model.setValue("instance('ins')/hudApprovalDoc", "");
				dl = model.getValue("instance('ins')/hudUseDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudUseDoc/@uri", "");
				model.setValue("instance('ins')/hudUseDoc/@docLink", "");
				model.setValue("instance('ins')/hudUseDoc", "");
				dl = model.getValue("instance('ins')/hudProductDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudProductDoc/@uri", "");
				model.setValue("instance('ins')/hudProductDoc/@docLink", "");
				model.setValue("instance('ins')/hudProductDoc", "");
				dl = model.getValue("instance('ins')/hudPatientDoc/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/hudPatientDoc/@uri", "");
				model.setValue("instance('ins')/hudPatientDoc/@docLink", "");
				model.setValue("instance('ins')/hudPatientDoc", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleuseHUD/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOlduseHUD = $orgNodeOlduseHUD and $thisNodeOlduseHUD = $orgNodeOlduseHUD and instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment != '') or ($sugNodeOlduseHUD/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment"/><ix:attr value="if(($sugNodeOlduseHUD/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOlduseHUD/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOlduseHUD != $orgNodeOlduseHUD, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOlduseHUD != $thisNodeOlduseHUD, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOlduseHUD = $sugNodeOlduseHUD, 'Revision Accepted', if($thisNodeOlduseHUD = $orgNodeOlduseHUD, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOlduseHUD"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOlduseHUD"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOlduseHUD != $orgNodeOlduseHUD and $sugNodeOlduseHUD = $orgNodeOlduseHUD, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOlduseHUD != $thisNodeOlduseHUD, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOlduseHUD = $sugNodeOlduseHUD, 'Revision Accepted', if($thisNodeOlduseHUD = $orgNodeOlduseHUD, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOlduseHUD/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOlduseHUD"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOlduseHUD != $orgNodeOlduseHUD and $sugNodeOlduseHUD = $orgNodeOlduseHUD, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexuseHUD]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOlduseHUD"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeuseHUD != $orgNodeuseHUD, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleuseHUD/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleuseHUD/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleuseHUD/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/useHUD = '0', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/invDevs/@revIndex" name="revIndexinvDevs"/><exf:variable value="(instance('ins')/amendmentNodes/invDevs[@revIndex=$revIndexinvDevs])" name="amdNodeNeedleinvDevs"/><exf:variable value="(instance('ins')/invDevs[@revIndex=$revIndexinvDevs])" name="thisNodeNeedleinvDevs"/><exf:variable value="instance('ins')/invDevs" name="thisNodeinvDevs"/><exf:variable value="(instance('ins')/original/invDevs[@revIndex=$revIndexinvDevs])" name="orgNodeinvDevs"/><exf:variable value="(instance('ins')/original/invDevs[@revIndex=$revIndexinvDevs])" name="orgNodeVinvDevs"/><exf:variable value="(instance('ins')/suggestions/invDevs[@revIndex=$revIndexinvDevs])" name="sugNodeSetinvDevs"/><exf:variable value="(instance('ins')/suggestions/invDevs[@revIndex=$revIndexinvDevs])" name="sugNodeinvDevs"/><exf:variable value="instance('ins')/previous/review/invDevs/@revIndex" name="revIndexOinvDevs"/><exf:variable value="(instance('ins')/previous/review/invDevs[@revIndex=$revIndexOinvDevs])" name="thisNodeNeedleOldinvDevs"/><exf:variable value="instance('ins')/previous/review/invDevs" name="thisNodeOldinvDevs"/><exf:variable value="(instance('ins')/previous/review/original/invDevs[@revIndex=$revIndexOinvDevs])" name="orgNodeOldinvDevs"/><exf:variable value="(instance('ins')/previous/review/suggestions/invDevs[@revIndex=$revIndexOinvDevs])" name="sugNodeSetOldinvDevs"/><exf:variable value="(instance('ins')/previous/review/suggestions/invDevs[@revIndex=$revIndexOinvDevs])" name="sugNodeOldinvDevs"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/invDevs" appearance="full" class="selectYes" style="width:450px;" id="invDevs"><xf:label>Use of an Investigational Device to Evaluate Its Safety or Effectiveness</xf:label><xf:hint>The term "device" means an instrument, apparatus, implement, machine, contrivance, implant, in vitro reagent, or other similar or related article, including any component, part, or accessory, which is 
			(1) recognized in the official National Formulary, or the United States Pharmacopeia, or any supplement to them,
			(2) intended for use in the diagnosis of disease or other conditions, or in the cure, mitigation, treatment, or prevention of disease, in man or other animals, or
			(3) intended to affect the structure or any function of the body of man or other animals, and which does not achieve its primary intended purposes through chemical action within or on the body of man or other animals and which is not dependent upon being metabolized for the achievement of its primary intended purposes. 
		</xf:hint><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/invDevs" appearance="full" id="invDevs"><xf:label/><xf:hint>The term "device" means an instrument, apparatus, implement, machine, contrivance, implant, in vitro reagent, or other similar or related article, including any component, part, or accessory, which is 
			(1) recognized in the official National Formulary, or the United States Pharmacopeia, or any supplement to them,
			(2) intended for use in the diagnosis of disease or other conditions, or in the cure, mitigation, treatment, or prevention of disease, in man or other animals, or
			(3) intended to affect the structure or any function of the body of man or other animals, and which does not achieve its primary intended purposes through chemical action within or on the body of man or other animals and which is not dependent upon being metabolized for the achievement of its primary intended purposes. 
		</xf:hint><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x == '0') {
				//Clear Devices - Investigational Devices
				if(model.getValue("count(instance('ins')/Device)") * 1 != 0) {
					model.USA.removeALLMSSMDevices(["main2"]);
				}
			}
			
			//Clear Financial Administration
			var fundingCat = model.getValue("instance('ins')/fundingSourceComp/Organization/fundingCat[. = 'Industry']",null);
			var fDrugBiologics = model.getValue("instance('ins')/invDrugs",null);
			var finvDevice = model.getValue(".",contextNode);
			var fClinicalTrial = model.getValue("instance('ins')/clinicalTrial",null);
			var finance = "0";
			if(fundingCat == "Industry" || fDrugBiologics == "1" || finvDevice == "1" || fClinicalTrial == "1") {
				finance = "1";
			} else {
				finance = "0";
			}
			if(finance != "1") {
				model.setValue("instance('ins')/FACTSClinicalResearchStudyCategory", "");
				model.setValue("instance('ins')/facts_payment_option", "");
				model.setValue("instance('ins')/facts_payment_option_1", "");
				model.setValue("instance('ins')/facts_payment_option_2", "");
				model.setValue("instance('ins')/facts_payment_option_5", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleinvDevs/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldinvDevs = $orgNodeOldinvDevs and $thisNodeOldinvDevs = $orgNodeOldinvDevs and instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment != '') or ($sugNodeOldinvDevs/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment"/><ix:attr value="if(($sugNodeOldinvDevs/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldinvDevs/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldinvDevs != $orgNodeOldinvDevs, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldinvDevs != $thisNodeOldinvDevs, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldinvDevs = $sugNodeOldinvDevs, 'Revision Accepted', if($thisNodeOldinvDevs = $orgNodeOldinvDevs, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvDevs"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldinvDevs"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldinvDevs != $orgNodeOldinvDevs and $sugNodeOldinvDevs = $orgNodeOldinvDevs, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldinvDevs != $thisNodeOldinvDevs, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldinvDevs = $sugNodeOldinvDevs, 'Revision Accepted', if($thisNodeOldinvDevs = $orgNodeOldinvDevs, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldinvDevs/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvDevs"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldinvDevs != $orgNodeOldinvDevs and $sugNodeOldinvDevs = $orgNodeOldinvDevs, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDevs]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvDevs"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeinvDevs != $orgNodeinvDevs, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleinvDevs/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleinvDevs/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleinvDevs/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0, '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/bankingSpecimens/@revIndex" name="revIndexbankingSpecimens"/><exf:variable value="(instance('ins')/amendmentNodes/bankingSpecimens[@revIndex=$revIndexbankingSpecimens])" name="amdNodeNeedlebankingSpecimens"/><exf:variable value="(instance('ins')/bankingSpecimens[@revIndex=$revIndexbankingSpecimens])" name="thisNodeNeedlebankingSpecimens"/><exf:variable value="instance('ins')/bankingSpecimens" name="thisNodebankingSpecimens"/><exf:variable value="(instance('ins')/original/bankingSpecimens[@revIndex=$revIndexbankingSpecimens])" name="orgNodebankingSpecimens"/><exf:variable value="(instance('ins')/original/bankingSpecimens[@revIndex=$revIndexbankingSpecimens])" name="orgNodeVbankingSpecimens"/><exf:variable value="(instance('ins')/suggestions/bankingSpecimens[@revIndex=$revIndexbankingSpecimens])" name="sugNodeSetbankingSpecimens"/><exf:variable value="(instance('ins')/suggestions/bankingSpecimens[@revIndex=$revIndexbankingSpecimens])" name="sugNodebankingSpecimens"/><exf:variable value="instance('ins')/previous/review/bankingSpecimens/@revIndex" name="revIndexObankingSpecimens"/><exf:variable value="(instance('ins')/previous/review/bankingSpecimens[@revIndex=$revIndexObankingSpecimens])" name="thisNodeNeedleOldbankingSpecimens"/><exf:variable value="instance('ins')/previous/review/bankingSpecimens" name="thisNodeOldbankingSpecimens"/><exf:variable value="(instance('ins')/previous/review/original/bankingSpecimens[@revIndex=$revIndexObankingSpecimens])" name="orgNodeOldbankingSpecimens"/><exf:variable value="(instance('ins')/previous/review/suggestions/bankingSpecimens[@revIndex=$revIndexObankingSpecimens])" name="sugNodeSetOldbankingSpecimens"/><exf:variable value="(instance('ins')/previous/review/suggestions/bankingSpecimens[@revIndex=$revIndexObankingSpecimens])" name="sugNodeOldbankingSpecimens"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/bankingSpecimens" appearance="full" class="selectYes" style="width:450px;" id="bankingSpecimens"><xf:label>Banking Specimens for Future Research</xf:label><xf:hint>HonorHealth does not allow the use of Broad Consent for research specimens per Policy RE1530.</xf:hint><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/bankingSpecimens" appearance="full" id="bankingSpecimens"><xf:label/><xf:hint>HonorHealth does not allow the use of Broad Consent for research specimens per Policy RE1530.</xf:hint><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {
				//Clear Specimen Banking
				model.setValue("instance('ins')/specDescribe", "");
				model.setValue("instance('ins')/specLength", "");
				model.setValue("instance('ins')/specAccess", "");
				model.setValue("instance('ins')/specInfo", "");
				model.setValue("instance('ins')/specimensWillBeReleased", "");
				var nl = model.selectNodeList("instance('ins')/Person[(invitation/@status!='author' or (invitation/@status='author' and role!='co')) and role!='nonProtocol' and not(name = preceding::name)]/@personnelResponsibleSpecimensObtain", null);
				for(var m = 0; m &lt; nl.length; m++) {
					model.setValue("instance('ins')/Person[(invitation/@status!='author' or (invitation/@status='author' and role!='co')) and role!='nonProtocol' and not(name = preceding::name)]["+(m + 1)+"]/@personnelResponsibleSpecimensObtain", "");
				}
				model.setValue("instance('ins')/specRelease", "");
				model.setValue("instance('ins')/specApproval", "");
				model.setValue("instance('ins')/specProvide", "");
				model.setValue("instance('ins')/specimensCanBeObtainedBy", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedlebankingSpecimens/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldbankingSpecimens = $orgNodeOldbankingSpecimens and $thisNodeOldbankingSpecimens = $orgNodeOldbankingSpecimens and instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment != '') or ($sugNodeOldbankingSpecimens/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment"/><ix:attr value="if(($sugNodeOldbankingSpecimens/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldbankingSpecimens/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldbankingSpecimens != $orgNodeOldbankingSpecimens, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldbankingSpecimens != $thisNodeOldbankingSpecimens, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldbankingSpecimens = $sugNodeOldbankingSpecimens, 'Revision Accepted', if($thisNodeOldbankingSpecimens = $orgNodeOldbankingSpecimens, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldbankingSpecimens"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldbankingSpecimens"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldbankingSpecimens != $orgNodeOldbankingSpecimens and $sugNodeOldbankingSpecimens = $orgNodeOldbankingSpecimens, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldbankingSpecimens != $thisNodeOldbankingSpecimens, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldbankingSpecimens = $sugNodeOldbankingSpecimens, 'Revision Accepted', if($thisNodeOldbankingSpecimens = $orgNodeOldbankingSpecimens, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldbankingSpecimens/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldbankingSpecimens"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldbankingSpecimens != $orgNodeOldbankingSpecimens and $sugNodeOldbankingSpecimens = $orgNodeOldbankingSpecimens, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexbankingSpecimens]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldbankingSpecimens"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodebankingSpecimens != $orgNodebankingSpecimens, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedlebankingSpecimens/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedlebankingSpecimens/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedlebankingSpecimens/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/clinicalTrial/@revIndex" name="revIndexclinicalTrial"/><exf:variable value="(instance('ins')/amendmentNodes/clinicalTrial[@revIndex=$revIndexclinicalTrial])" name="amdNodeNeedleclinicalTrial"/><exf:variable value="(instance('ins')/clinicalTrial[@revIndex=$revIndexclinicalTrial])" name="thisNodeNeedleclinicalTrial"/><exf:variable value="instance('ins')/clinicalTrial" name="thisNodeclinicalTrial"/><exf:variable value="(instance('ins')/original/clinicalTrial[@revIndex=$revIndexclinicalTrial])" name="orgNodeclinicalTrial"/><exf:variable value="(instance('ins')/original/clinicalTrial[@revIndex=$revIndexclinicalTrial])" name="orgNodeVclinicalTrial"/><exf:variable value="(instance('ins')/suggestions/clinicalTrial[@revIndex=$revIndexclinicalTrial])" name="sugNodeSetclinicalTrial"/><exf:variable value="(instance('ins')/suggestions/clinicalTrial[@revIndex=$revIndexclinicalTrial])" name="sugNodeclinicalTrial"/><exf:variable value="instance('ins')/previous/review/clinicalTrial/@revIndex" name="revIndexOclinicalTrial"/><exf:variable value="(instance('ins')/previous/review/clinicalTrial[@revIndex=$revIndexOclinicalTrial])" name="thisNodeNeedleOldclinicalTrial"/><exf:variable value="instance('ins')/previous/review/clinicalTrial" name="thisNodeOldclinicalTrial"/><exf:variable value="(instance('ins')/previous/review/original/clinicalTrial[@revIndex=$revIndexOclinicalTrial])" name="orgNodeOldclinicalTrial"/><exf:variable value="(instance('ins')/previous/review/suggestions/clinicalTrial[@revIndex=$revIndexOclinicalTrial])" name="sugNodeSetOldclinicalTrial"/><exf:variable value="(instance('ins')/previous/review/suggestions/clinicalTrial[@revIndex=$revIndexOclinicalTrial])" name="sugNodeOldclinicalTrial"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/clinicalTrial" appearance="full" class="selectYes" id="clinicalTrial"><xf:label>Clinical Trial</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/clinicalTrial" appearance="full" id="clinicalTrial"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
		
			//Clear Financial Administration
			var fundingCat = model.getValue("instance('ins')/fundingSourceComp/Organization/fundingCat[. = 'Industry']",null);
			var fDrugBiologics = model.getValue("instance('ins')/invDrugs",null);
			var finvDevice = model.getValue("instance('ins')/invDevs",null);
			var fClinicalTrial = model.getValue(".",contextNode);
			var finance = "0";
			if(fundingCat == "Industry" || fDrugBiologics == "1" || finvDevice == "1" || fClinicalTrial == "1") {
				finance = "1";
			} else {
				finance = "0";
			}
			if(finance != "1") {
				model.setValue("instance('ins')/FACTSClinicalResearchStudyCategory", "");
				model.setValue("instance('ins')/facts_payment_option", "");
				model.setValue("instance('ins')/facts_payment_option_1", "");
				model.setValue("instance('ins')/facts_payment_option_2", "");
				model.setValue("instance('ins')/facts_payment_option_5", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleclinicalTrial/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldclinicalTrial = $orgNodeOldclinicalTrial and $thisNodeOldclinicalTrial = $orgNodeOldclinicalTrial and instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment != '') or ($sugNodeOldclinicalTrial/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment"/><ix:attr value="if(($sugNodeOldclinicalTrial/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldclinicalTrial/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldclinicalTrial != $orgNodeOldclinicalTrial, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldclinicalTrial != $thisNodeOldclinicalTrial, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldclinicalTrial = $sugNodeOldclinicalTrial, 'Revision Accepted', if($thisNodeOldclinicalTrial = $orgNodeOldclinicalTrial, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldclinicalTrial"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldclinicalTrial"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldclinicalTrial != $orgNodeOldclinicalTrial and $sugNodeOldclinicalTrial = $orgNodeOldclinicalTrial, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldclinicalTrial != $thisNodeOldclinicalTrial, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldclinicalTrial = $sugNodeOldclinicalTrial, 'Revision Accepted', if($thisNodeOldclinicalTrial = $orgNodeOldclinicalTrial, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldclinicalTrial/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldclinicalTrial"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldclinicalTrial != $orgNodeOldclinicalTrial and $sugNodeOldclinicalTrial = $orgNodeOldclinicalTrial, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexclinicalTrial]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldclinicalTrial"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeclinicalTrial != $orgNodeclinicalTrial, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleclinicalTrial/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleclinicalTrial/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleclinicalTrial/@comment"/></div></div></td></tr><tr class="instructions"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><td colspan="4"><span><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><h4><font size="2"><component type="instructions">
		<visible xpath="count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0"/>
		<font size="1">			
			* A prospective biomedical or behavioral research study of human subjects that is designed to answer specific questions about biomedical or behavioral interventions (drugs, treatments, devices, or new ways of using known drugs, treatments, or devices). <br/>
			*  Used to determine whether new biomedical or behavioral interventions are safe, efficacious, and effective. <br/>			
		</font>
		<option type="widestLabel"/>
	</component></font></h4></span></td></tr><tr class="yesnobuttons"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/invDrugs/@revIndex" name="revIndexinvDrugs"/><exf:variable value="(instance('ins')/amendmentNodes/invDrugs[@revIndex=$revIndexinvDrugs])" name="amdNodeNeedleinvDrugs"/><exf:variable value="(instance('ins')/invDrugs[@revIndex=$revIndexinvDrugs])" name="thisNodeNeedleinvDrugs"/><exf:variable value="instance('ins')/invDrugs" name="thisNodeinvDrugs"/><exf:variable value="(instance('ins')/original/invDrugs[@revIndex=$revIndexinvDrugs])" name="orgNodeinvDrugs"/><exf:variable value="(instance('ins')/original/invDrugs[@revIndex=$revIndexinvDrugs])" name="orgNodeVinvDrugs"/><exf:variable value="(instance('ins')/suggestions/invDrugs[@revIndex=$revIndexinvDrugs])" name="sugNodeSetinvDrugs"/><exf:variable value="(instance('ins')/suggestions/invDrugs[@revIndex=$revIndexinvDrugs])" name="sugNodeinvDrugs"/><exf:variable value="instance('ins')/previous/review/invDrugs/@revIndex" name="revIndexOinvDrugs"/><exf:variable value="(instance('ins')/previous/review/invDrugs[@revIndex=$revIndexOinvDrugs])" name="thisNodeNeedleOldinvDrugs"/><exf:variable value="instance('ins')/previous/review/invDrugs" name="thisNodeOldinvDrugs"/><exf:variable value="(instance('ins')/previous/review/original/invDrugs[@revIndex=$revIndexOinvDrugs])" name="orgNodeOldinvDrugs"/><exf:variable value="(instance('ins')/previous/review/suggestions/invDrugs[@revIndex=$revIndexOinvDrugs])" name="sugNodeSetOldinvDrugs"/><exf:variable value="(instance('ins')/previous/review/suggestions/invDrugs[@revIndex=$revIndexOinvDrugs])" name="sugNodeOldinvDrugs"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/invDrugs" appearance="full" class="selectYes" style="width:450px;" id="invDrugs"><xf:label>Drugs / Biologics </xf:label><xf:hint>
        	This includes the use of FDA-approved drugs/biologic when given in a way that differs from standard practice.
		The term "drug" means
		* (A) articles recognized in the official United States Pharmacopoeia, official Homoeopathic Pharmacopoeia of the United States, or official National Formulary, or any supplement to any of them; and
		* (B) articles intended for use in the diagnosis, cure, mitigation, treatment, or prevention of disease in man or other animals; and
		* (C) articles (other than food) intended to affect the structure or any function of the body of man or other animals; and articles intended for use as a component of any article specified in clause (A), (B), or (C).
		</xf:hint><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/invDrugs" appearance="full" id="invDrugs"><xf:label/><xf:hint>
        	This includes the use of FDA-approved drugs/biologic when given in a way that differs from standard practice.
		The term "drug" means
		* (A) articles recognized in the official United States Pharmacopoeia, official Homoeopathic Pharmacopoeia of the United States, or official National Formulary, or any supplement to any of them; and
		* (B) articles intended for use in the diagnosis, cure, mitigation, treatment, or prevention of disease in man or other animals; and
		* (C) articles (other than food) intended to affect the structure or any function of the body of man or other animals; and articles intended for use as a component of any article specified in clause (A), (B), or (C).
		</xf:hint><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			//Clear Financial Administration
			var fundingCat = model.getValue("instance('ins')/fundingSourceComp/Organization/fundingCat[. = 'Industry']",null);
			var fDrugBiologics = model.getValue(".",contextNode);
			var finvDevice = model.getValue("instance('ins')/invDevs",null);
			var fClinicalTrial = model.getValue("instance('ins')/clinicalTrial",null);
			var finance = "0";
			if(fundingCat == "Industry" || fDrugBiologics == "1" || finvDevice == "1" || fClinicalTrial == "1") {
				finance = "1";
			} else {
				finance = "0";
			}
			if(finance != "1") {
				model.setValue("instance('ins')/FACTSClinicalResearchStudyCategory", "");
				model.setValue("instance('ins')/facts_payment_option", "");
				model.setValue("instance('ins')/facts_payment_option_1", "");
				model.setValue("instance('ins')/facts_payment_option_2", "");
				model.setValue("instance('ins')/facts_payment_option_5", "");
			}
			if(x != '1') {				
				if(model.getValue("count(instance('ins')/Drug)") * 1 != 0) {
					model.USA.removeALLMSSMDrugs(["main2"]);
				}
			}	
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleinvDrugs/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldinvDrugs = $orgNodeOldinvDrugs and $thisNodeOldinvDrugs = $orgNodeOldinvDrugs and instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment != '') or ($sugNodeOldinvDrugs/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment"/><ix:attr value="if(($sugNodeOldinvDrugs/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldinvDrugs/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldinvDrugs != $orgNodeOldinvDrugs, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldinvDrugs != $thisNodeOldinvDrugs, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldinvDrugs = $sugNodeOldinvDrugs, 'Revision Accepted', if($thisNodeOldinvDrugs = $orgNodeOldinvDrugs, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvDrugs"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldinvDrugs"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldinvDrugs != $orgNodeOldinvDrugs and $sugNodeOldinvDrugs = $orgNodeOldinvDrugs, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldinvDrugs != $thisNodeOldinvDrugs, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldinvDrugs = $sugNodeOldinvDrugs, 'Revision Accepted', if($thisNodeOldinvDrugs = $orgNodeOldinvDrugs, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldinvDrugs/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvDrugs"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldinvDrugs != $orgNodeOldinvDrugs and $sugNodeOldinvDrugs = $orgNodeOldinvDrugs, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvDrugs]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvDrugs"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeinvDrugs != $orgNodeinvDrugs, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleinvDrugs/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleinvDrugs/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleinvDrugs/@comment"/></div></div></td></tr><tr class="instructions"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><td colspan="4"><span><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><h4><font size="2"><component type="instructions">
		<visible xpath="count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0"/>
		<font size="1">			
			* Drugs / Biologics That Are Not a Part of Standard Practice <br/>
			* Controlled Substances <br/>
			* Drugs / Biologics Supplied by the Research Sponsor or Purchased with Study Funds <br/>
		</font>
		<option type="widestLabel"/>
	</component></font></h4></span></td></tr><tr class="yesnobuttons"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/radiologicalProcedures/@revIndex" name="revIndexradiologicalProcedures"/><exf:variable value="(instance('ins')/amendmentNodes/radiologicalProcedures[@revIndex=$revIndexradiologicalProcedures])" name="amdNodeNeedleradiologicalProcedures"/><exf:variable value="(instance('ins')/radiologicalProcedures[@revIndex=$revIndexradiologicalProcedures])" name="thisNodeNeedleradiologicalProcedures"/><exf:variable value="instance('ins')/radiologicalProcedures" name="thisNoderadiologicalProcedures"/><exf:variable value="(instance('ins')/original/radiologicalProcedures[@revIndex=$revIndexradiologicalProcedures])" name="orgNoderadiologicalProcedures"/><exf:variable value="(instance('ins')/original/radiologicalProcedures[@revIndex=$revIndexradiologicalProcedures])" name="orgNodeVradiologicalProcedures"/><exf:variable value="(instance('ins')/suggestions/radiologicalProcedures[@revIndex=$revIndexradiologicalProcedures])" name="sugNodeSetradiologicalProcedures"/><exf:variable value="(instance('ins')/suggestions/radiologicalProcedures[@revIndex=$revIndexradiologicalProcedures])" name="sugNoderadiologicalProcedures"/><exf:variable value="instance('ins')/previous/review/radiologicalProcedures/@revIndex" name="revIndexOradiologicalProcedures"/><exf:variable value="(instance('ins')/previous/review/radiologicalProcedures[@revIndex=$revIndexOradiologicalProcedures])" name="thisNodeNeedleOldradiologicalProcedures"/><exf:variable value="instance('ins')/previous/review/radiologicalProcedures" name="thisNodeOldradiologicalProcedures"/><exf:variable value="(instance('ins')/previous/review/original/radiologicalProcedures[@revIndex=$revIndexOradiologicalProcedures])" name="orgNodeOldradiologicalProcedures"/><exf:variable value="(instance('ins')/previous/review/suggestions/radiologicalProcedures[@revIndex=$revIndexOradiologicalProcedures])" name="sugNodeSetOldradiologicalProcedures"/><exf:variable value="(instance('ins')/previous/review/suggestions/radiologicalProcedures[@revIndex=$revIndexOradiologicalProcedures])" name="sugNodeOldradiologicalProcedures"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/radiologicalProcedures" appearance="full" class="selectYes" id="radiologicalProcedures"><xf:label>Radiological Procedures</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/radiologicalProcedures" appearance="full" id="radiologicalProcedures"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {
				model.setValue("instance('ins')/radiologicalProceduresDosimetry", "");
				var dl = model.getValue("instance('ins')/dosimetryChart/@docLink",null);
				if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				model.setValue("instance('ins')/dosimetryChart/@uri", "");
				model.setValue("instance('ins')/dosimetryChart/@docLink", "");
				model.setValue("instance('ins')/dosimetryChart", "");				
				model.setValue("instance('ins')/involvesRadiologicalProcedures", "");
				model.setValue("instance('ins')/involvesStandardCareRadiologicalProceduresOnly", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleradiologicalProcedures/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldradiologicalProcedures = $orgNodeOldradiologicalProcedures and $thisNodeOldradiologicalProcedures = $orgNodeOldradiologicalProcedures and instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment != '') or ($sugNodeOldradiologicalProcedures/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment"/><ix:attr value="if(($sugNodeOldradiologicalProcedures/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldradiologicalProcedures/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldradiologicalProcedures != $orgNodeOldradiologicalProcedures, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldradiologicalProcedures != $thisNodeOldradiologicalProcedures, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldradiologicalProcedures = $sugNodeOldradiologicalProcedures, 'Revision Accepted', if($thisNodeOldradiologicalProcedures = $orgNodeOldradiologicalProcedures, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldradiologicalProcedures"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldradiologicalProcedures"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldradiologicalProcedures != $orgNodeOldradiologicalProcedures and $sugNodeOldradiologicalProcedures = $orgNodeOldradiologicalProcedures, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldradiologicalProcedures != $thisNodeOldradiologicalProcedures, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldradiologicalProcedures = $sugNodeOldradiologicalProcedures, 'Revision Accepted', if($thisNodeOldradiologicalProcedures = $orgNodeOldradiologicalProcedures, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldradiologicalProcedures/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldradiologicalProcedures"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldradiologicalProcedures != $orgNodeOldradiologicalProcedures and $sugNodeOldradiologicalProcedures = $orgNodeOldradiologicalProcedures, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexradiologicalProcedures]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldradiologicalProcedures"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNoderadiologicalProcedures != $orgNoderadiologicalProcedures, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleradiologicalProcedures/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleradiologicalProcedures/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleradiologicalProcedures/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(count(instance('ins')/researchInvolves[. = '2']) &gt; 0 or count(instance('ins')/researchInvolves[. = '3']) &gt; 0 or count(instance('ins')/appType[.='2']) &gt; 0 or count(instance('ins')/appType[.='3']) &gt; 0, '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/requestingCRUResources/@revIndex" name="revIndexrequestingCRUResources"/><exf:variable value="(instance('ins')/amendmentNodes/requestingCRUResources[@revIndex=$revIndexrequestingCRUResources])" name="amdNodeNeedlerequestingCRUResources"/><exf:variable value="(instance('ins')/requestingCRUResources[@revIndex=$revIndexrequestingCRUResources])" name="thisNodeNeedlerequestingCRUResources"/><exf:variable value="instance('ins')/requestingCRUResources" name="thisNoderequestingCRUResources"/><exf:variable value="(instance('ins')/original/requestingCRUResources[@revIndex=$revIndexrequestingCRUResources])" name="orgNoderequestingCRUResources"/><exf:variable value="(instance('ins')/original/requestingCRUResources[@revIndex=$revIndexrequestingCRUResources])" name="orgNodeVrequestingCRUResources"/><exf:variable value="(instance('ins')/suggestions/requestingCRUResources[@revIndex=$revIndexrequestingCRUResources])" name="sugNodeSetrequestingCRUResources"/><exf:variable value="(instance('ins')/suggestions/requestingCRUResources[@revIndex=$revIndexrequestingCRUResources])" name="sugNoderequestingCRUResources"/><exf:variable value="instance('ins')/previous/review/requestingCRUResources/@revIndex" name="revIndexOrequestingCRUResources"/><exf:variable value="(instance('ins')/previous/review/requestingCRUResources[@revIndex=$revIndexOrequestingCRUResources])" name="thisNodeNeedleOldrequestingCRUResources"/><exf:variable value="instance('ins')/previous/review/requestingCRUResources" name="thisNodeOldrequestingCRUResources"/><exf:variable value="(instance('ins')/previous/review/original/requestingCRUResources[@revIndex=$revIndexOrequestingCRUResources])" name="orgNodeOldrequestingCRUResources"/><exf:variable value="(instance('ins')/previous/review/suggestions/requestingCRUResources[@revIndex=$revIndexOrequestingCRUResources])" name="sugNodeSetOldrequestingCRUResources"/><exf:variable value="(instance('ins')/previous/review/suggestions/requestingCRUResources[@revIndex=$revIndexOrequestingCRUResources])" name="sugNodeOldrequestingCRUResources"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/requestingCRUResources" appearance="full" class="selectYes" id="requestingCRUResources"><xf:label>Request Use of Clinical Research Unit Resources</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/requestingCRUResources" appearance="full" id="requestingCRUResources"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {

				var m = model.selectNodeList("instance('ins')/Compensation", null);
				for(var i = m.length; i &gt; 0; i--){
					model.setValue("instance('ins')/Compensation["+ i +"]/compensationWhoWillPay", "");
					model.setValue("instance('ins')/Compensation["+ i +"]/compensationSpecifyWhoWillPay", "");
				}				
				
				//Clear Clinical Research Unit - Summary
				model.setValue("instance('ins')/studyWillUtilize", "");
				model.setValue("instance('ins')/includesStandardCare", "");
				model.setValue("instance('ins')/rareDiseaseStudy", "");
				model.setValue("instance('ins')/CRUPersonnel", "");
				model.setValue("instance('ins')/CRUFacilities", "");
				model.setValue("instance('ins')/descPerformedCRU", "");
				
				//Clear Clinical Research Unit - Requirements
				model.setValue("instance('ins')/totalNumberPatientsEvaluatedCRU", "");
				model.setValue("instance('ins')/outpatientVisits", "");
				model.setValue("instance('ins')/hoursPerVisit", "");
				model.setValue("instance('ins')/uniqueSituations", "");
				model.setValue("instance('ins')/timeDayTesting", "");
				model.setValue("instance('ins')/timeDayTestingSpecify", "");
				model.setValue("instance('ins')/specialNursingReqs", "");
				model.setValue("instance('ins')/specialNursingReqsSpecify", "");
				model.setValue("instance('ins')/specialInfectionControlReqs", "");
				model.setValue("instance('ins')/specialInfectionControlReqsSpecify", "");
				model.setValue("instance('ins')/fallsPrecaution", "");
				model.setValue("instance('ins')/seizurePrecaution", "");
				model.setValue("instance('ins')/patientsCareSelves", "");
				model.setValue("instance('ins')/requireNursingAssistance", "");
				model.setValue("instance('ins')/requireNursingAssistanceSpecify", "");
				model.setValue("instance('ins')/dietaryReqs", "");
				model.setValue("instance('ins')/dietaryReqsSpecify", "");
				
				//Clear Clinical Research Unit - Costs
				model.setValue("instance('ins')/totalCosts", "");
				model.setValue("instance('ins')/totalCRUCosts", "");
				model.setValue("instance('ins')/compTotalCRU", "");
				model.setValue("instance('ins')/totalCRU", "");
				var m = model.selectNodeList("instance('ins')/Cost", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				model.USA.refreshArea('Cost');
			}
			
			//onchange event for Procedure tab
			var bResearchInv = model.getValue("instance('ins')/researchInvolves",null);
			var bExSummary = model.getValue("instance('ins')/exemptSurveyInstruments",null);
			var bAppType = model.getValue("instance('ins')/appType",null);
			var bCRUnit = model.getValue("instance('ins')/requestingCRUResources",null);
			var procedures = (bResearchInv == "2" || bResearchInv == "3" || bExSummary == "1" || (bAppType == "2" &amp;&amp; bCRUnit == "1") || (bAppType == "3" &amp;&amp; bCRUnit == "1")) ? "1" : "0";
			if(procedures != 1) {
			
				//Clear Procedures - Narrative
				model.setValue("instance('ins')/studyDesignDescription", "");
				model.setValue("instance('ins')/proceduresDescription", "");
				model.setValue("instance('ins')/sourceRecordsDescription", "");
				model.setValue("instance('ins')/dataCollectedDescription", "");
				
				//Clear Procedures - Genetic Testing
				model.setValue("instance('ins')/geneticTesting", "");
				model.setValue("instance('ins')/geneticTestingForClinicalPurposes", "");
				
				//Clear Procedures - Details
				model.setValue("instance('ins')/survey", "");
				model.setValue("instance('ins')/typeInstruments", "");				
				model.setValue("instance('ins')/standardizedInstruments", "");
				model.setValue("instance('ins')/investigatorInstrumentsDescription", "");
				model.setValue("instance('ins')/avTaping", "");
				model.setValue("instance('ins')/avTapingSubjectsIdentifiable", "");
				model.setValue("instance('ins')/avTapingMediaDiscarded", "");
				model.setValue("instance('ins')/avTapingMediaStorageDuration", "");
				model.setValue("instance('ins')/avTapingMediaStorageConfidentiality", "");
				model.setValue("instance('ins')/avTapingMediaShared", "");
				model.setValue("instance('ins')/avTapingRequiredForParticipation", "");
				model.setValue("instance('ins')/deception", "");
				model.setValue("instance('ins')/deceptionNotes", "");
				model.setValue("instance('ins')/shareResults", "");
				model.setValue("instance('ins')/descShareResults", "");
				model.setValue("instance('ins')/descShareResultsWhen", "");								
			}
			
			//Clear Procedures - Instruments
			var bInstrumentsBeingUsed = model.getValue("instance('ins')/typeInstruments", null);
			var bExSummary = model.getValue("instance('ins')/exemptSurveyInstruments",null);
			if(bExSummary != '1' &amp;&amp; bInstrumentsBeingUsed.indexOf('2') &lt; 0) {
				var nl = model.selectNodeList("instance('ins')/instruments", null);
				for(var m = 0; m &lt; nl.length; m++) {
					var dl = model.getValue("instance('ins')/instruments["+(m + 1)+"]/document/@docLink", null);
					if(dl) model.Frm.deleteDocumentRef(dl, 'ins');
				}
				for(var m = 0; m &lt; nl.length; m++) {
					nl[m].parentNode.removeChild(nl[m]);
				}
				model.USA.refreshArea('instruments');
			}
			
			//Clear Procedures - Compensation
			var cResearchInv = model.getValue("instance('ins')/researchInvolves",null);
			var cAppType = model.getValue("instance('ins')/appType",null);
			var cCRUnit = model.getValue("instance('ins')/requestingCRUResources",null);
			var compensation = (cResearchInv == "2" || cResearchInv == "3" || (bAppType == "2" &amp;&amp; bCRUnit == "1") || (bAppType == "3" &amp;&amp; bCRUnit == "1")) ? "1" : "0";
			if(compensation != '1') {
				model.setValue("instance('ins')/compParticipation", "");
				model.setValue("instance('ins')/compTotal", "");
				model.setValue("instance('ins')/compTotalCRU", "");
				var m = model.selectNodeList("instance('ins')/Compensation", null);
				for(var i = m.length; i &gt; 0; i--){
					m[i-1].parentNode.removeChild(m[i-1]);
				}
				model.USA.refreshArea('Compensation');
			}
			
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
            model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedlerequestingCRUResources/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldrequestingCRUResources = $orgNodeOldrequestingCRUResources and $thisNodeOldrequestingCRUResources = $orgNodeOldrequestingCRUResources and instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment != '') or ($sugNodeOldrequestingCRUResources/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment"/><ix:attr value="if(($sugNodeOldrequestingCRUResources/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldrequestingCRUResources/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldrequestingCRUResources != $orgNodeOldrequestingCRUResources, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldrequestingCRUResources != $thisNodeOldrequestingCRUResources, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldrequestingCRUResources = $sugNodeOldrequestingCRUResources, 'Revision Accepted', if($thisNodeOldrequestingCRUResources = $orgNodeOldrequestingCRUResources, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldrequestingCRUResources"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldrequestingCRUResources"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldrequestingCRUResources != $orgNodeOldrequestingCRUResources and $sugNodeOldrequestingCRUResources = $orgNodeOldrequestingCRUResources, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldrequestingCRUResources != $thisNodeOldrequestingCRUResources, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldrequestingCRUResources = $sugNodeOldrequestingCRUResources, 'Revision Accepted', if($thisNodeOldrequestingCRUResources = $orgNodeOldrequestingCRUResources, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldrequestingCRUResources/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldrequestingCRUResources"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldrequestingCRUResources != $orgNodeOldrequestingCRUResources and $sugNodeOldrequestingCRUResources = $orgNodeOldrequestingCRUResources, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexrequestingCRUResources]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldrequestingCRUResources"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNoderequestingCRUResources != $orgNoderequestingCRUResources, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedlerequestingCRUResources/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedlerequestingCRUResources/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedlerequestingCRUResources/@comment"/></div></div></td></tr><tr class="line"><td><hr/></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/appType='1' or instance('ins')/appType='2' or instance('ins')/appType='3' or instance('ins')/appType='4', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/feeWaiverRequested/@revIndex" name="revIndexfeeWaiverRequested"/><exf:variable value="(instance('ins')/amendmentNodes/feeWaiverRequested[@revIndex=$revIndexfeeWaiverRequested])" name="amdNodeNeedlefeeWaiverRequested"/><exf:variable value="(instance('ins')/feeWaiverRequested[@revIndex=$revIndexfeeWaiverRequested])" name="thisNodeNeedlefeeWaiverRequested"/><exf:variable value="instance('ins')/feeWaiverRequested" name="thisNodefeeWaiverRequested"/><exf:variable value="(instance('ins')/original/feeWaiverRequested[@revIndex=$revIndexfeeWaiverRequested])" name="orgNodefeeWaiverRequested"/><exf:variable value="(instance('ins')/original/feeWaiverRequested[@revIndex=$revIndexfeeWaiverRequested])" name="orgNodeVfeeWaiverRequested"/><exf:variable value="(instance('ins')/suggestions/feeWaiverRequested[@revIndex=$revIndexfeeWaiverRequested])" name="sugNodeSetfeeWaiverRequested"/><exf:variable value="(instance('ins')/suggestions/feeWaiverRequested[@revIndex=$revIndexfeeWaiverRequested])" name="sugNodefeeWaiverRequested"/><exf:variable value="instance('ins')/previous/review/feeWaiverRequested/@revIndex" name="revIndexOfeeWaiverRequested"/><exf:variable value="(instance('ins')/previous/review/feeWaiverRequested[@revIndex=$revIndexOfeeWaiverRequested])" name="thisNodeNeedleOldfeeWaiverRequested"/><exf:variable value="instance('ins')/previous/review/feeWaiverRequested" name="thisNodeOldfeeWaiverRequested"/><exf:variable value="(instance('ins')/previous/review/original/feeWaiverRequested[@revIndex=$revIndexOfeeWaiverRequested])" name="orgNodeOldfeeWaiverRequested"/><exf:variable value="(instance('ins')/previous/review/suggestions/feeWaiverRequested[@revIndex=$revIndexOfeeWaiverRequested])" name="sugNodeSetOldfeeWaiverRequested"/><exf:variable value="(instance('ins')/previous/review/suggestions/feeWaiverRequested[@revIndex=$revIndexOfeeWaiverRequested])" name="sugNodeOldfeeWaiverRequested"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/feeWaiverRequested" appearance="full" class="selectYes" style="width:450px;" id="feeWaiverRequested"><xf:label>Fee Waiver Requested</xf:label><xf:hint>
			In lieu of payment of an IRB Fee, this fee waiver request is required and will be considered on a case-by-case basis. 
			The waiver will be determined by the IRB Chair for investigator-initiated studies, unfunded studies, cooperative group studies, 
			publicly funded studies, and when the fee would create a meaningful obstacle to research conduct.
		</xf:hint><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/feeWaiverRequested" appearance="full" id="feeWaiverRequested"><xf:label/><xf:hint>
			In lieu of payment of an IRB Fee, this fee waiver request is required and will be considered on a case-by-case basis. 
			The waiver will be determined by the IRB Chair for investigator-initiated studies, unfunded studies, cooperative group studies, 
			publicly funded studies, and when the fee would create a meaningful obstacle to research conduct.
		</xf:hint><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {
				model.setValue("instance('ins')/feeWaiverReason", "");
			}
			model.recalculate();
			model.refresh();
			model.activateCase("hide-nrd");
			model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedlefeeWaiverRequested/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldfeeWaiverRequested = $orgNodeOldfeeWaiverRequested and $thisNodeOldfeeWaiverRequested = $orgNodeOldfeeWaiverRequested and instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment != '') or ($sugNodeOldfeeWaiverRequested/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment"/><ix:attr value="if(($sugNodeOldfeeWaiverRequested/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldfeeWaiverRequested/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldfeeWaiverRequested != $orgNodeOldfeeWaiverRequested, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldfeeWaiverRequested != $thisNodeOldfeeWaiverRequested, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldfeeWaiverRequested = $sugNodeOldfeeWaiverRequested, 'Revision Accepted', if($thisNodeOldfeeWaiverRequested = $orgNodeOldfeeWaiverRequested, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverRequested"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldfeeWaiverRequested"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldfeeWaiverRequested != $orgNodeOldfeeWaiverRequested and $sugNodeOldfeeWaiverRequested = $orgNodeOldfeeWaiverRequested, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldfeeWaiverRequested != $thisNodeOldfeeWaiverRequested, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldfeeWaiverRequested = $sugNodeOldfeeWaiverRequested, 'Revision Accepted', if($thisNodeOldfeeWaiverRequested = $orgNodeOldfeeWaiverRequested, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldfeeWaiverRequested/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverRequested"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldfeeWaiverRequested != $orgNodeOldfeeWaiverRequested and $sugNodeOldfeeWaiverRequested = $orgNodeOldfeeWaiverRequested, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverRequested]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverRequested"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodefeeWaiverRequested != $orgNodefeeWaiverRequested, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedlefeeWaiverRequested/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedlefeeWaiverRequested/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedlefeeWaiverRequested/@comment"/></div></div></td></tr><tr class="radiobuttons"><ix:attr value="if(instance('ins')/feeWaiverRequested='1', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/feeWaiverReason/@revIndex" name="revIndexfeeWaiverReason"/><exf:variable value="(instance('ins')/amendmentNodes/feeWaiverReason[@revIndex=$revIndexfeeWaiverReason])" name="amdNodeNeedlefeeWaiverReason"/><exf:variable value="(instance('ins')/feeWaiverReason[@revIndex=$revIndexfeeWaiverReason])" name="thisNodeNeedlefeeWaiverReason"/><exf:variable value="instance('ins')/feeWaiverReason" name="thisNodeVfeeWaiverReason"/><exf:variable value="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive=''][@id=$thisNodeVfeeWaiverReason]/@name" name="thisNodefeeWaiverReason"/><exf:variable value="(instance('ins')/original/feeWaiverReason[@revIndex=$revIndexfeeWaiverReason])" name="orgNodeVfeeWaiverReason"/><exf:variable value="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive=''][@id=$orgNodeVfeeWaiverReason]/@name" name="orgNodefeeWaiverReason"/><exf:variable value="(instance('ins')/suggestions/feeWaiverReason[@revIndex=$revIndexfeeWaiverReason])" name="sugNodeSetfeeWaiverReason"/><exf:variable value="(instance('ins')/suggestions/feeWaiverReason[@revIndex=$revIndexfeeWaiverReason])" name="sugNodeVfeeWaiverReason"/><exf:variable value="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive=''][@id=$sugNodeVfeeWaiverReason]/@name" name="sugNodefeeWaiverReason"/><exf:variable value="instance('ins')/previous/review/feeWaiverReason/@revIndex" name="revIndexOfeeWaiverReason"/><exf:variable value="(instance('ins')/previous/review/feeWaiverReason[@revIndex=$revIndexOfeeWaiverReason])" name="thisNodeNeedleOldfeeWaiverReason"/><exf:variable value="instance('ins')/previous/review/feeWaiverReason" name="thisNodeVOldfeeWaiverReason"/><exf:variable value="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive=''][@id=$thisNodeVOldfeeWaiverReason]/@name" name="thisNodeOldfeeWaiverReason"/><exf:variable value="(instance('ins')/previous/review/original/feeWaiverReason[@revIndex=$revIndexOfeeWaiverReason])" name="orgNodeVOldfeeWaiverReason"/><exf:variable value="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive=''][@id=$orgNodeVOldfeeWaiverReason]/@name" name="orgNodeOldfeeWaiverReason"/><exf:variable value="(instance('ins')/previous/review/suggestions/feeWaiverReason[@revIndex=$revIndexOfeeWaiverReason])" name="sugNodeSetOldfeeWaiverReason"/><exf:variable value="(instance('ins')/previous/review/suggestions/feeWaiverReason[@revIndex=$revIndexOfeeWaiverReason])" name="sugNodeVOldfeeWaiverReason"/><exf:variable value="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldfeeWaiverReason]/@name" name="sugNodeOldfeeWaiverReason"/><exf:variable value="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldfeeWaiverReason]/@name" name="sugNodeOldfeeWaiverReason"/><xf:select1 ref="instance('ins')/feeWaiverReason" appearance="full" id="feeWaiverReason"><xf:label>Identify Fee Waiver Reason</xf:label><xf:repeat nodeset="instance('cats')/feeWaiverReason/type[not(@inactive) or @inactive='']"><xf:item><xf:label><xf:output value="@name"/></xf:label><xf:value><xf:output value="@id"/></xf:value></xf:item></xf:repeat><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != 'other') {
				model.setValue("instance('ins')/feeWaiverReasonOther", "");
			}
			model.recalculate();
			model.refresh();
			model.activateCase("hide-nrd");
			model.activateCase("show-nrd");
		</script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedlefeeWaiverReason/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldfeeWaiverReason = $orgNodeOldfeeWaiverReason and $thisNodeOldfeeWaiverReason = $orgNodeOldfeeWaiverReason and instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment != '') or ($sugNodeOldfeeWaiverReason/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment"/><ix:attr value="if(($sugNodeOldfeeWaiverReason/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldfeeWaiverReason/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldfeeWaiverReason != $orgNodeOldfeeWaiverReason, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldfeeWaiverReason != $thisNodeOldfeeWaiverReason, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldfeeWaiverReason = $sugNodeOldfeeWaiverReason, 'Revision Accepted', if($thisNodeOldfeeWaiverReason = $orgNodeOldfeeWaiverReason, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverReason"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldfeeWaiverReason"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldfeeWaiverReason != $orgNodeOldfeeWaiverReason and $sugNodeOldfeeWaiverReason = $orgNodeOldfeeWaiverReason, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldfeeWaiverReason != $thisNodeOldfeeWaiverReason, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldfeeWaiverReason = $sugNodeOldfeeWaiverReason, 'Revision Accepted', if($thisNodeOldfeeWaiverReason = $orgNodeOldfeeWaiverReason, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldfeeWaiverReason/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverReason"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldfeeWaiverReason != $orgNodeOldfeeWaiverReason and $sugNodeOldfeeWaiverReason = $orgNodeOldfeeWaiverReason, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReason]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverReason"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodefeeWaiverReason != $orgNodefeeWaiverReason, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedlefeeWaiverReason/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedlefeeWaiverReason/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedlefeeWaiverReason/@comment"/></div></div></td></tr><tr class="bigbox"><ix:attr value="if(instance('ins')/feeWaiverReason='other', '', 'display:none')" name="style"/><td class="component textarea   widestLabel"><exf:variable value="instance('ins')/feeWaiverReasonOther/@revIndex" name="revIndexfeeWaiverReasonOther"/><exf:variable value="(instance('ins')/amendmentNodes/feeWaiverReasonOther[@revIndex=$revIndexfeeWaiverReasonOther])" name="amdNodeNeedlefeeWaiverReasonOther"/><exf:variable value="(instance('ins')/feeWaiverReasonOther[@revIndex=$revIndexfeeWaiverReasonOther])" name="thisNodeNeedlefeeWaiverReasonOther"/><exf:variable value="instance('ins')/feeWaiverReasonOther" name="thisNodefeeWaiverReasonOther"/><exf:variable value="(instance('ins')/original/feeWaiverReasonOther[@revIndex=$revIndexfeeWaiverReasonOther])" name="orgNodefeeWaiverReasonOther"/><exf:variable value="(instance('ins')/suggestions/feeWaiverReasonOther[@revIndex=$revIndexfeeWaiverReasonOther])" name="sugNodeSetfeeWaiverReasonOther"/><exf:variable value="(instance('ins')/suggestions/feeWaiverReasonOther[@revIndex=$revIndexfeeWaiverReasonOther])" name="sugNodefeeWaiverReasonOther"/><exf:variable value="instance('ins')/previous/review/feeWaiverReasonOther/@revIndex" name="revIndexOfeeWaiverReasonOther"/><exf:variable value="(instance('ins')/previous/review/feeWaiverReasonOther[@revIndex=$revIndexOfeeWaiverReasonOther])" name="thisNodeNeedleOldfeeWaiverReasonOther"/><exf:variable value="instance('ins')/previous/review/feeWaiverReasonOther" name="thisNodeOldfeeWaiverReasonOther"/><exf:variable value="(instance('ins')/previous/review/original/feeWaiverReasonOther[@revIndex=$revIndexOfeeWaiverReasonOther])" name="orgNodeOldfeeWaiverReasonOther"/><exf:variable value="(instance('ins')/previous/review/suggestions/feeWaiverReasonOther[@revIndex=$revIndexOfeeWaiverReasonOther])" name="sugNodeSetOldfeeWaiverReasonOther"/><exf:variable value="(instance('ins')/previous/review/suggestions/feeWaiverReasonOther[@revIndex=$revIndexOfeeWaiverReasonOther])" name="sugNodeOldfeeWaiverReasonOther"/><xf:textarea style="height:10em;" class="" ref="instance('ins')/feeWaiverReasonOther"><xf:label>Please explain why the payment of an IRB fee would create a meaningful obstacle to the conduct of this research conduct</xf:label><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedlefeeWaiverReasonOther/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:textarea></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldfeeWaiverReasonOther = $orgNodeOldfeeWaiverReasonOther and $thisNodeOldfeeWaiverReasonOther = $orgNodeOldfeeWaiverReasonOther and instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment != '') or ($sugNodeOldfeeWaiverReasonOther/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment"/><ix:attr value="if(($sugNodeOldfeeWaiverReasonOther/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldfeeWaiverReasonOther/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldfeeWaiverReasonOther != $orgNodeOldfeeWaiverReasonOther, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldfeeWaiverReasonOther != $thisNodeOldfeeWaiverReasonOther, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldfeeWaiverReasonOther = $sugNodeOldfeeWaiverReasonOther, 'Revision Accepted', if($thisNodeOldfeeWaiverReasonOther = $orgNodeOldfeeWaiverReasonOther, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverReasonOther"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldfeeWaiverReasonOther"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldfeeWaiverReasonOther != $orgNodeOldfeeWaiverReasonOther and $sugNodeOldfeeWaiverReasonOther = $orgNodeOldfeeWaiverReasonOther, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldfeeWaiverReasonOther != $thisNodeOldfeeWaiverReasonOther, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldfeeWaiverReasonOther = $sugNodeOldfeeWaiverReasonOther, 'Revision Accepted', if($thisNodeOldfeeWaiverReasonOther = $orgNodeOldfeeWaiverReasonOther, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldfeeWaiverReasonOther/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverReasonOther"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldfeeWaiverReasonOther != $orgNodeOldfeeWaiverReasonOther and $sugNodeOldfeeWaiverReasonOther = $orgNodeOldfeeWaiverReasonOther, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexfeeWaiverReasonOther]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldfeeWaiverReasonOther"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodefeeWaiverReasonOther != $orgNodefeeWaiverReasonOther, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedlefeeWaiverReasonOther/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedlefeeWaiverReasonOther/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedlefeeWaiverReasonOther/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/appType='1' or instance('ins')/appType='2' or instance('ins')/appType='3' or instance('ins')/appType='4', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/researchFunded/@revIndex" name="revIndexresearchFunded"/><exf:variable value="(instance('ins')/amendmentNodes/researchFunded[@revIndex=$revIndexresearchFunded])" name="amdNodeNeedleresearchFunded"/><exf:variable value="(instance('ins')/researchFunded[@revIndex=$revIndexresearchFunded])" name="thisNodeNeedleresearchFunded"/><exf:variable value="instance('ins')/researchFunded" name="thisNoderesearchFunded"/><exf:variable value="(instance('ins')/original/researchFunded[@revIndex=$revIndexresearchFunded])" name="orgNoderesearchFunded"/><exf:variable value="(instance('ins')/original/researchFunded[@revIndex=$revIndexresearchFunded])" name="orgNodeVresearchFunded"/><exf:variable value="(instance('ins')/suggestions/researchFunded[@revIndex=$revIndexresearchFunded])" name="sugNodeSetresearchFunded"/><exf:variable value="(instance('ins')/suggestions/researchFunded[@revIndex=$revIndexresearchFunded])" name="sugNoderesearchFunded"/><exf:variable value="instance('ins')/previous/review/researchFunded/@revIndex" name="revIndexOresearchFunded"/><exf:variable value="(instance('ins')/previous/review/researchFunded[@revIndex=$revIndexOresearchFunded])" name="thisNodeNeedleOldresearchFunded"/><exf:variable value="instance('ins')/previous/review/researchFunded" name="thisNodeOldresearchFunded"/><exf:variable value="(instance('ins')/previous/review/original/researchFunded[@revIndex=$revIndexOresearchFunded])" name="orgNodeOldresearchFunded"/><exf:variable value="(instance('ins')/previous/review/suggestions/researchFunded[@revIndex=$revIndexOresearchFunded])" name="sugNodeSetOldresearchFunded"/><exf:variable value="(instance('ins')/previous/review/suggestions/researchFunded[@revIndex=$revIndexOresearchFunded])" name="sugNodeOldresearchFunded"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/researchFunded" appearance="full" class="selectYes" id="researchFunded"><xf:label>Funding Has Been Requested / Obtained</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/researchFunded" appearance="full" id="researchFunded"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {
				model.setValue("instance('ins')/FACTSClinicalResearchStudyCategory", "");
				if(model.getValue("count(instance('ins')/fundingSourceComp)") * 1 != 0) {
					model.USA.removeALLFundingSources(["main2"]);
				}
			}else if (x != '0'){
				model.setValue("instance('ins')/educationalRequirements", "");
				model.setValue("instance('ins')/unfundedSource", "");
			}
			model.recalculate();
			model.refresh();
			model.USA.rebuildTabs();
			model.activateCase("hide-nrd");
			model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleresearchFunded/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldresearchFunded = $orgNodeOldresearchFunded and $thisNodeOldresearchFunded = $orgNodeOldresearchFunded and instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment != '') or ($sugNodeOldresearchFunded/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment"/><ix:attr value="if(($sugNodeOldresearchFunded/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldresearchFunded/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldresearchFunded != $orgNodeOldresearchFunded, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldresearchFunded != $thisNodeOldresearchFunded, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldresearchFunded = $sugNodeOldresearchFunded, 'Revision Accepted', if($thisNodeOldresearchFunded = $orgNodeOldresearchFunded, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldresearchFunded"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldresearchFunded"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldresearchFunded != $orgNodeOldresearchFunded and $sugNodeOldresearchFunded = $orgNodeOldresearchFunded, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldresearchFunded != $thisNodeOldresearchFunded, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldresearchFunded = $sugNodeOldresearchFunded, 'Revision Accepted', if($thisNodeOldresearchFunded = $orgNodeOldresearchFunded, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldresearchFunded/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldresearchFunded"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldresearchFunded != $orgNodeOldresearchFunded and $sugNodeOldresearchFunded = $orgNodeOldresearchFunded, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexresearchFunded]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldresearchFunded"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNoderesearchFunded != $orgNoderesearchFunded, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleresearchFunded/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleresearchFunded/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleresearchFunded/@comment"/></div></div></td></tr><tr class="radiobuttons"><ix:attr value="if(instance('ins')/researchFunded='1', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/FACTSClinicalResearchStudyCategory/@revIndex" name="revIndexFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/amendmentNodes/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexFACTSClinicalResearchStudyCategory])" name="amdNodeNeedleFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexFACTSClinicalResearchStudyCategory])" name="thisNodeNeedleFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('ins')/FACTSClinicalResearchStudyCategory" name="thisNodeVFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive=''][@id=$thisNodeVFACTSClinicalResearchStudyCategory]/@name" name="thisNodeFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/original/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexFACTSClinicalResearchStudyCategory])" name="orgNodeVFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive=''][@id=$orgNodeVFACTSClinicalResearchStudyCategory]/@name" name="orgNodeFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/suggestions/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexFACTSClinicalResearchStudyCategory])" name="sugNodeSetFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/suggestions/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexFACTSClinicalResearchStudyCategory])" name="sugNodeVFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive=''][@id=$sugNodeVFACTSClinicalResearchStudyCategory]/@name" name="sugNodeFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('ins')/previous/review/FACTSClinicalResearchStudyCategory/@revIndex" name="revIndexOFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/previous/review/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexOFACTSClinicalResearchStudyCategory])" name="thisNodeNeedleOldFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('ins')/previous/review/FACTSClinicalResearchStudyCategory" name="thisNodeVOldFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive=''][@id=$thisNodeVOldFACTSClinicalResearchStudyCategory]/@name" name="thisNodeOldFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/previous/review/original/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexOFACTSClinicalResearchStudyCategory])" name="orgNodeVOldFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive=''][@id=$orgNodeVOldFACTSClinicalResearchStudyCategory]/@name" name="orgNodeOldFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/previous/review/suggestions/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexOFACTSClinicalResearchStudyCategory])" name="sugNodeSetOldFACTSClinicalResearchStudyCategory"/><exf:variable value="(instance('ins')/previous/review/suggestions/FACTSClinicalResearchStudyCategory[@revIndex=$revIndexOFACTSClinicalResearchStudyCategory])" name="sugNodeVOldFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldFACTSClinicalResearchStudyCategory]/@name" name="sugNodeOldFACTSClinicalResearchStudyCategory"/><exf:variable value="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldFACTSClinicalResearchStudyCategory]/@name" name="sugNodeOldFACTSClinicalResearchStudyCategory"/><xf:select1 ref="instance('ins')/FACTSClinicalResearchStudyCategory" appearance="full" id="FACTSClinicalResearchStudyCategory"><xf:label>Clinical Research Study Category</xf:label><xf:repeat nodeset="instance('cats')/FACTSClinicalResearchStudyCategory/type[not(@inactive) or @inactive='']"><xf:item><xf:label><xf:output value="@name"/></xf:label><xf:value><xf:output value="@id"/></xf:value></xf:item></xf:repeat><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleFACTSClinicalResearchStudyCategory/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldFACTSClinicalResearchStudyCategory = $orgNodeOldFACTSClinicalResearchStudyCategory and $thisNodeOldFACTSClinicalResearchStudyCategory = $orgNodeOldFACTSClinicalResearchStudyCategory and instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment != '') or ($sugNodeOldFACTSClinicalResearchStudyCategory/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment"/><ix:attr value="if(($sugNodeOldFACTSClinicalResearchStudyCategory/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldFACTSClinicalResearchStudyCategory/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldFACTSClinicalResearchStudyCategory != $orgNodeOldFACTSClinicalResearchStudyCategory, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldFACTSClinicalResearchStudyCategory != $thisNodeOldFACTSClinicalResearchStudyCategory, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldFACTSClinicalResearchStudyCategory = $sugNodeOldFACTSClinicalResearchStudyCategory, 'Revision Accepted', if($thisNodeOldFACTSClinicalResearchStudyCategory = $orgNodeOldFACTSClinicalResearchStudyCategory, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldFACTSClinicalResearchStudyCategory"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldFACTSClinicalResearchStudyCategory"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldFACTSClinicalResearchStudyCategory != $orgNodeOldFACTSClinicalResearchStudyCategory and $sugNodeOldFACTSClinicalResearchStudyCategory = $orgNodeOldFACTSClinicalResearchStudyCategory, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldFACTSClinicalResearchStudyCategory != $thisNodeOldFACTSClinicalResearchStudyCategory, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldFACTSClinicalResearchStudyCategory = $sugNodeOldFACTSClinicalResearchStudyCategory, 'Revision Accepted', if($thisNodeOldFACTSClinicalResearchStudyCategory = $orgNodeOldFACTSClinicalResearchStudyCategory, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldFACTSClinicalResearchStudyCategory/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldFACTSClinicalResearchStudyCategory"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldFACTSClinicalResearchStudyCategory != $orgNodeOldFACTSClinicalResearchStudyCategory and $sugNodeOldFACTSClinicalResearchStudyCategory = $orgNodeOldFACTSClinicalResearchStudyCategory, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexFACTSClinicalResearchStudyCategory]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldFACTSClinicalResearchStudyCategory"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeFACTSClinicalResearchStudyCategory != $orgNodeFACTSClinicalResearchStudyCategory, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleFACTSClinicalResearchStudyCategory/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleFACTSClinicalResearchStudyCategory/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleFACTSClinicalResearchStudyCategory/@comment"/></div></div></td></tr><tr class="instructions"><ix:attr value="if(instance('ins')/researchFunded='0', '', 'display:none')" name="style"/><td colspan="4"><span><ix:attr value="if(instance('ins')/researchFunded='0', '', 'display:none')" name="style"/><h4><font size="2"><component type="instructions">
		<visible xpath="instance('ins')/researchFunded='0'"/>
		Unfunded Study Information		
		<option type="widestLabel"/>
	</component></font></h4></span></td></tr><tr class="radiobuttons"><ix:attr value="if(instance('ins')/researchFunded='0', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/educationalRequirements/@revIndex" name="revIndexeducationalRequirements"/><exf:variable value="(instance('ins')/amendmentNodes/educationalRequirements[@revIndex=$revIndexeducationalRequirements])" name="amdNodeNeedleeducationalRequirements"/><exf:variable value="(instance('ins')/educationalRequirements[@revIndex=$revIndexeducationalRequirements])" name="thisNodeNeedleeducationalRequirements"/><exf:variable value="instance('ins')/educationalRequirements" name="thisNodeVeducationalRequirements"/><exf:variable value="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive=''][@id=$thisNodeVeducationalRequirements]/@name" name="thisNodeeducationalRequirements"/><exf:variable value="(instance('ins')/original/educationalRequirements[@revIndex=$revIndexeducationalRequirements])" name="orgNodeVeducationalRequirements"/><exf:variable value="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive=''][@id=$orgNodeVeducationalRequirements]/@name" name="orgNodeeducationalRequirements"/><exf:variable value="(instance('ins')/suggestions/educationalRequirements[@revIndex=$revIndexeducationalRequirements])" name="sugNodeSeteducationalRequirements"/><exf:variable value="(instance('ins')/suggestions/educationalRequirements[@revIndex=$revIndexeducationalRequirements])" name="sugNodeVeducationalRequirements"/><exf:variable value="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive=''][@id=$sugNodeVeducationalRequirements]/@name" name="sugNodeeducationalRequirements"/><exf:variable value="instance('ins')/previous/review/educationalRequirements/@revIndex" name="revIndexOeducationalRequirements"/><exf:variable value="(instance('ins')/previous/review/educationalRequirements[@revIndex=$revIndexOeducationalRequirements])" name="thisNodeNeedleOldeducationalRequirements"/><exf:variable value="instance('ins')/previous/review/educationalRequirements" name="thisNodeVOldeducationalRequirements"/><exf:variable value="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive=''][@id=$thisNodeVOldeducationalRequirements]/@name" name="thisNodeOldeducationalRequirements"/><exf:variable value="(instance('ins')/previous/review/original/educationalRequirements[@revIndex=$revIndexOeducationalRequirements])" name="orgNodeVOldeducationalRequirements"/><exf:variable value="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive=''][@id=$orgNodeVOldeducationalRequirements]/@name" name="orgNodeOldeducationalRequirements"/><exf:variable value="(instance('ins')/previous/review/suggestions/educationalRequirements[@revIndex=$revIndexOeducationalRequirements])" name="sugNodeSetOldeducationalRequirements"/><exf:variable value="(instance('ins')/previous/review/suggestions/educationalRequirements[@revIndex=$revIndexOeducationalRequirements])" name="sugNodeVOldeducationalRequirements"/><exf:variable value="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldeducationalRequirements]/@name" name="sugNodeOldeducationalRequirements"/><exf:variable value="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldeducationalRequirements]/@name" name="sugNodeOldeducationalRequirements"/><xf:select1 ref="instance('ins')/educationalRequirements" appearance="full" id="educationalRequirements"><xf:label>Educational Requirements</xf:label><xf:repeat nodeset="instance('cats')/educationalRequirements/type[not(@inactive) or @inactive='']"><xf:item><xf:label><xf:output value="@name"/></xf:label><xf:value><xf:output value="@id"/></xf:value></xf:item></xf:repeat><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleeducationalRequirements/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldeducationalRequirements = $orgNodeOldeducationalRequirements and $thisNodeOldeducationalRequirements = $orgNodeOldeducationalRequirements and instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment != '') or ($sugNodeOldeducationalRequirements/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment"/><ix:attr value="if(($sugNodeOldeducationalRequirements/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldeducationalRequirements/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldeducationalRequirements != $orgNodeOldeducationalRequirements, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldeducationalRequirements != $thisNodeOldeducationalRequirements, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldeducationalRequirements = $sugNodeOldeducationalRequirements, 'Revision Accepted', if($thisNodeOldeducationalRequirements = $orgNodeOldeducationalRequirements, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldeducationalRequirements"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldeducationalRequirements"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldeducationalRequirements != $orgNodeOldeducationalRequirements and $sugNodeOldeducationalRequirements = $orgNodeOldeducationalRequirements, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldeducationalRequirements != $thisNodeOldeducationalRequirements, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldeducationalRequirements = $sugNodeOldeducationalRequirements, 'Revision Accepted', if($thisNodeOldeducationalRequirements = $orgNodeOldeducationalRequirements, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldeducationalRequirements/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldeducationalRequirements"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldeducationalRequirements != $orgNodeOldeducationalRequirements and $sugNodeOldeducationalRequirements = $orgNodeOldeducationalRequirements, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexeducationalRequirements]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldeducationalRequirements"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeeducationalRequirements != $orgNodeeducationalRequirements, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleeducationalRequirements/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleeducationalRequirements/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleeducationalRequirements/@comment"/></div></div></td></tr><tr class="radiobuttons"><ix:attr value="if(instance('ins')/researchFunded='0', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/unfundedSource/@revIndex" name="revIndexunfundedSource"/><exf:variable value="(instance('ins')/amendmentNodes/unfundedSource[@revIndex=$revIndexunfundedSource])" name="amdNodeNeedleunfundedSource"/><exf:variable value="(instance('ins')/unfundedSource[@revIndex=$revIndexunfundedSource])" name="thisNodeNeedleunfundedSource"/><exf:variable value="instance('ins')/unfundedSource" name="thisNodeVunfundedSource"/><exf:variable value="instance('cats')/unfundedSource/type[not(@inactive) or @inactive=''][@id=$thisNodeVunfundedSource]/@name" name="thisNodeunfundedSource"/><exf:variable value="(instance('ins')/original/unfundedSource[@revIndex=$revIndexunfundedSource])" name="orgNodeVunfundedSource"/><exf:variable value="instance('cats')/unfundedSource/type[not(@inactive) or @inactive=''][@id=$orgNodeVunfundedSource]/@name" name="orgNodeunfundedSource"/><exf:variable value="(instance('ins')/suggestions/unfundedSource[@revIndex=$revIndexunfundedSource])" name="sugNodeSetunfundedSource"/><exf:variable value="(instance('ins')/suggestions/unfundedSource[@revIndex=$revIndexunfundedSource])" name="sugNodeVunfundedSource"/><exf:variable value="instance('cats')/unfundedSource/type[not(@inactive) or @inactive=''][@id=$sugNodeVunfundedSource]/@name" name="sugNodeunfundedSource"/><exf:variable value="instance('ins')/previous/review/unfundedSource/@revIndex" name="revIndexOunfundedSource"/><exf:variable value="(instance('ins')/previous/review/unfundedSource[@revIndex=$revIndexOunfundedSource])" name="thisNodeNeedleOldunfundedSource"/><exf:variable value="instance('ins')/previous/review/unfundedSource" name="thisNodeVOldunfundedSource"/><exf:variable value="instance('cats')/unfundedSource/type[not(@inactive) or @inactive=''][@id=$thisNodeVOldunfundedSource]/@name" name="thisNodeOldunfundedSource"/><exf:variable value="(instance('ins')/previous/review/original/unfundedSource[@revIndex=$revIndexOunfundedSource])" name="orgNodeVOldunfundedSource"/><exf:variable value="instance('cats')/unfundedSource/type[not(@inactive) or @inactive=''][@id=$orgNodeVOldunfundedSource]/@name" name="orgNodeOldunfundedSource"/><exf:variable value="(instance('ins')/previous/review/suggestions/unfundedSource[@revIndex=$revIndexOunfundedSource])" name="sugNodeSetOldunfundedSource"/><exf:variable value="(instance('ins')/previous/review/suggestions/unfundedSource[@revIndex=$revIndexOunfundedSource])" name="sugNodeVOldunfundedSource"/><exf:variable value="instance('cats')/unfundedSource/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldunfundedSource]/@name" name="sugNodeOldunfundedSource"/><exf:variable value="instance('cats')/unfundedSource/type[not(@inactive) or @inactive=''][@id=$sugNodeVOldunfundedSource]/@name" name="sugNodeOldunfundedSource"/><xf:select1 ref="instance('ins')/unfundedSource" appearance="full" id="unfundedSource"><xf:label>Funding Source</xf:label><xf:repeat nodeset="instance('cats')/unfundedSource/type[not(@inactive) or @inactive='']"><xf:item><xf:label><xf:output value="@name"/></xf:label><xf:value><xf:output value="@id"/></xf:value></xf:item></xf:repeat><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleunfundedSource/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldunfundedSource = $orgNodeOldunfundedSource and $thisNodeOldunfundedSource = $orgNodeOldunfundedSource and instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment != '') or ($sugNodeOldunfundedSource/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment"/><ix:attr value="if(($sugNodeOldunfundedSource/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldunfundedSource/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldunfundedSource != $orgNodeOldunfundedSource, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldunfundedSource != $thisNodeOldunfundedSource, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldunfundedSource = $sugNodeOldunfundedSource, 'Revision Accepted', if($thisNodeOldunfundedSource = $orgNodeOldunfundedSource, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldunfundedSource"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldunfundedSource"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldunfundedSource != $orgNodeOldunfundedSource and $sugNodeOldunfundedSource = $orgNodeOldunfundedSource, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldunfundedSource != $thisNodeOldunfundedSource, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldunfundedSource = $sugNodeOldunfundedSource, 'Revision Accepted', if($thisNodeOldunfundedSource = $orgNodeOldunfundedSource, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldunfundedSource/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldunfundedSource"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldunfundedSource != $orgNodeOldunfundedSource and $sugNodeOldunfundedSource = $orgNodeOldunfundedSource, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexunfundedSource]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldunfundedSource"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeunfundedSource != $orgNodeunfundedSource, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleunfundedSource/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleunfundedSource/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleunfundedSource/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/appType='1' or instance('ins')/appType='2' or instance('ins')/appType='3' or instance('ins')/appType='4', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/ipOfPI/@revIndex" name="revIndexipOfPI"/><exf:variable value="(instance('ins')/amendmentNodes/ipOfPI[@revIndex=$revIndexipOfPI])" name="amdNodeNeedleipOfPI"/><exf:variable value="(instance('ins')/ipOfPI[@revIndex=$revIndexipOfPI])" name="thisNodeNeedleipOfPI"/><exf:variable value="instance('ins')/ipOfPI" name="thisNodeipOfPI"/><exf:variable value="(instance('ins')/original/ipOfPI[@revIndex=$revIndexipOfPI])" name="orgNodeipOfPI"/><exf:variable value="(instance('ins')/original/ipOfPI[@revIndex=$revIndexipOfPI])" name="orgNodeVipOfPI"/><exf:variable value="(instance('ins')/suggestions/ipOfPI[@revIndex=$revIndexipOfPI])" name="sugNodeSetipOfPI"/><exf:variable value="(instance('ins')/suggestions/ipOfPI[@revIndex=$revIndexipOfPI])" name="sugNodeipOfPI"/><exf:variable value="instance('ins')/previous/review/ipOfPI/@revIndex" name="revIndexOipOfPI"/><exf:variable value="(instance('ins')/previous/review/ipOfPI[@revIndex=$revIndexOipOfPI])" name="thisNodeNeedleOldipOfPI"/><exf:variable value="instance('ins')/previous/review/ipOfPI" name="thisNodeOldipOfPI"/><exf:variable value="(instance('ins')/previous/review/original/ipOfPI[@revIndex=$revIndexOipOfPI])" name="orgNodeOldipOfPI"/><exf:variable value="(instance('ins')/previous/review/suggestions/ipOfPI[@revIndex=$revIndexOipOfPI])" name="sugNodeSetOldipOfPI"/><exf:variable value="(instance('ins')/previous/review/suggestions/ipOfPI[@revIndex=$revIndexOipOfPI])" name="sugNodeOldipOfPI"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/ipOfPI" appearance="full" class="selectYes" id="ipOfPI"><xf:label>Is this protocol the intellectual property of the Principal Investigator?</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/ipOfPI" appearance="full" id="ipOfPI"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {
			model.setValue("instance('ins')/involveHHResources", "");
			}
			model.recalculate();
			model.refresh();
			model.activateCase("hide-nrd");
			model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleipOfPI/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldipOfPI = $orgNodeOldipOfPI and $thisNodeOldipOfPI = $orgNodeOldipOfPI and instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment != '') or ($sugNodeOldipOfPI/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment"/><ix:attr value="if(($sugNodeOldipOfPI/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldipOfPI/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldipOfPI != $orgNodeOldipOfPI, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldipOfPI != $thisNodeOldipOfPI, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldipOfPI = $sugNodeOldipOfPI, 'Revision Accepted', if($thisNodeOldipOfPI = $orgNodeOldipOfPI, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldipOfPI"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldipOfPI"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldipOfPI != $orgNodeOldipOfPI and $sugNodeOldipOfPI = $orgNodeOldipOfPI, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldipOfPI != $thisNodeOldipOfPI, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldipOfPI = $sugNodeOldipOfPI, 'Revision Accepted', if($thisNodeOldipOfPI = $orgNodeOldipOfPI, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldipOfPI/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldipOfPI"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldipOfPI != $orgNodeOldipOfPI and $sugNodeOldipOfPI = $orgNodeOldipOfPI, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexipOfPI]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldipOfPI"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeipOfPI != $orgNodeipOfPI, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleipOfPI/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleipOfPI/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleipOfPI/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/ipOfPI='1', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/involveHHResources/@revIndex" name="revIndexinvolveHHResources"/><exf:variable value="(instance('ins')/amendmentNodes/involveHHResources[@revIndex=$revIndexinvolveHHResources])" name="amdNodeNeedleinvolveHHResources"/><exf:variable value="(instance('ins')/involveHHResources[@revIndex=$revIndexinvolveHHResources])" name="thisNodeNeedleinvolveHHResources"/><exf:variable value="instance('ins')/involveHHResources" name="thisNodeinvolveHHResources"/><exf:variable value="(instance('ins')/original/involveHHResources[@revIndex=$revIndexinvolveHHResources])" name="orgNodeinvolveHHResources"/><exf:variable value="(instance('ins')/original/involveHHResources[@revIndex=$revIndexinvolveHHResources])" name="orgNodeVinvolveHHResources"/><exf:variable value="(instance('ins')/suggestions/involveHHResources[@revIndex=$revIndexinvolveHHResources])" name="sugNodeSetinvolveHHResources"/><exf:variable value="(instance('ins')/suggestions/involveHHResources[@revIndex=$revIndexinvolveHHResources])" name="sugNodeinvolveHHResources"/><exf:variable value="instance('ins')/previous/review/involveHHResources/@revIndex" name="revIndexOinvolveHHResources"/><exf:variable value="(instance('ins')/previous/review/involveHHResources[@revIndex=$revIndexOinvolveHHResources])" name="thisNodeNeedleOldinvolveHHResources"/><exf:variable value="instance('ins')/previous/review/involveHHResources" name="thisNodeOldinvolveHHResources"/><exf:variable value="(instance('ins')/previous/review/original/involveHHResources[@revIndex=$revIndexOinvolveHHResources])" name="orgNodeOldinvolveHHResources"/><exf:variable value="(instance('ins')/previous/review/suggestions/involveHHResources[@revIndex=$revIndexOinvolveHHResources])" name="sugNodeSetOldinvolveHHResources"/><exf:variable value="(instance('ins')/previous/review/suggestions/involveHHResources[@revIndex=$revIndexOinvolveHHResources])" name="sugNodeOldinvolveHHResources"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/involveHHResources" appearance="full" class="selectYes" id="involveHHResources"><xf:label>Does the project involve using HonorHealth resources?</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/involveHHResources" appearance="full" id="involveHHResources"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
			x = model.getValue(".", contextNode);
			if(x != '1') {
			model.setValue("instance('ins')/projectStrategy", "");
			}
			model.recalculate();
			model.refresh();
			model.activateCase("hide-nrd");
			model.activateCase("show-nrd");
		</script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleinvolveHHResources/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldinvolveHHResources = $orgNodeOldinvolveHHResources and $thisNodeOldinvolveHHResources = $orgNodeOldinvolveHHResources and instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment != '') or ($sugNodeOldinvolveHHResources/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment"/><ix:attr value="if(($sugNodeOldinvolveHHResources/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldinvolveHHResources/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldinvolveHHResources != $orgNodeOldinvolveHHResources, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldinvolveHHResources != $thisNodeOldinvolveHHResources, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldinvolveHHResources = $sugNodeOldinvolveHHResources, 'Revision Accepted', if($thisNodeOldinvolveHHResources = $orgNodeOldinvolveHHResources, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvolveHHResources"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldinvolveHHResources"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldinvolveHHResources != $orgNodeOldinvolveHHResources and $sugNodeOldinvolveHHResources = $orgNodeOldinvolveHHResources, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldinvolveHHResources != $thisNodeOldinvolveHHResources, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldinvolveHHResources = $sugNodeOldinvolveHHResources, 'Revision Accepted', if($thisNodeOldinvolveHHResources = $orgNodeOldinvolveHHResources, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldinvolveHHResources/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvolveHHResources"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldinvolveHHResources != $orgNodeOldinvolveHHResources and $sugNodeOldinvolveHHResources = $orgNodeOldinvolveHHResources, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexinvolveHHResources]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldinvolveHHResources"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeinvolveHHResources != $orgNodeinvolveHHResources, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleinvolveHHResources/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleinvolveHHResources/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleinvolveHHResources/@comment"/></div></div></td></tr><tr class="yesnobuttons"><ix:attr value="if(instance('ins')/involveHHResources='1', '', 'display:none')" name="style"/><td class="component   widestLabel"><exf:variable value="instance('ins')/projectStrategy/@revIndex" name="revIndexprojectStrategy"/><exf:variable value="(instance('ins')/amendmentNodes/projectStrategy[@revIndex=$revIndexprojectStrategy])" name="amdNodeNeedleprojectStrategy"/><exf:variable value="(instance('ins')/projectStrategy[@revIndex=$revIndexprojectStrategy])" name="thisNodeNeedleprojectStrategy"/><exf:variable value="instance('ins')/projectStrategy" name="thisNodeprojectStrategy"/><exf:variable value="(instance('ins')/original/projectStrategy[@revIndex=$revIndexprojectStrategy])" name="orgNodeprojectStrategy"/><exf:variable value="(instance('ins')/original/projectStrategy[@revIndex=$revIndexprojectStrategy])" name="orgNodeVprojectStrategy"/><exf:variable value="(instance('ins')/suggestions/projectStrategy[@revIndex=$revIndexprojectStrategy])" name="sugNodeSetprojectStrategy"/><exf:variable value="(instance('ins')/suggestions/projectStrategy[@revIndex=$revIndexprojectStrategy])" name="sugNodeprojectStrategy"/><exf:variable value="instance('ins')/previous/review/projectStrategy/@revIndex" name="revIndexOprojectStrategy"/><exf:variable value="(instance('ins')/previous/review/projectStrategy[@revIndex=$revIndexOprojectStrategy])" name="thisNodeNeedleOldprojectStrategy"/><exf:variable value="instance('ins')/previous/review/projectStrategy" name="thisNodeOldprojectStrategy"/><exf:variable value="(instance('ins')/previous/review/original/projectStrategy[@revIndex=$revIndexOprojectStrategy])" name="orgNodeOldprojectStrategy"/><exf:variable value="(instance('ins')/previous/review/suggestions/projectStrategy[@revIndex=$revIndexOprojectStrategy])" name="sugNodeSetOldprojectStrategy"/><exf:variable value="(instance('ins')/previous/review/suggestions/projectStrategy[@revIndex=$revIndexOprojectStrategy])" name="sugNodeOldprojectStrategy"/><table class="horizontalSelects"><tr><td class="yesBox"><xf:select1 ref="instance('ins')/projectStrategy" appearance="full" class="selectYes" id="projectStrategy"><xf:label>Has the project been discussed at HonorHealth Research Strategy Meeting?</xf:label><xf:item><xf:label>Yes</xf:label><xf:value>1</xf:value></xf:item></xf:select1></td><td class="noBox"><xf:select1 ref="instance('ins')/projectStrategy" appearance="full" id="projectStrategy"><xf:label/><xf:item><xf:label>No</xf:label><xf:value>0</xf:value></xf:item><script ev:event="xforms-value-changed">
                model.recalculate();
                model.rebuild();
                model.refresh();
              </script><script ev:event="xforms-value-changed">
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                  SH.print("first...");
                  model.recalculate();
                  model.rebuild();
                  model.refresh();
                </script><xf:action ev:event="xforms-value-changed"><xf:setvalue ref="$thisNodeNeedleprojectStrategy/@changed">1</xf:setvalue><script>if(model.skipRebuild){return;};model.skipRebuild = true;model.USA.addChange();model.rebuild(); model.refresh();model.recalculate();model.USA.rebuildArea('');setTimeout(function(){model.skipRebuild = false}, 1000);</script></xf:action></xf:select1></td></tr></table></td><td class="options"/><td class="errors custError"><div><ix:attr value="if($sugNodeOldprojectStrategy = $orgNodeOldprojectStrategy and $thisNodeOldprojectStrategy = $orgNodeOldprojectStrategy and instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment != '', '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment"/></p></div></span><br/></div><div><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment != '') or ($sugNodeOldprojectStrategy/@comment != ''), '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:blue">Previous Comments</u><div style="width:300px;"><p><h5>History:</h5><ix:attr value="if((instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment != '')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment"/><ix:attr value="if(($sugNodeOldprojectStrategy/@comment != ''), '', 'display:none')" name="style"/><xf:output value="$sugNodeOldprojectStrategy/@comment"/></p></div></span><br/></div><div><ix:attr value="if($sugNodeOldprojectStrategy != $orgNodeOldprojectStrategy, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldprojectStrategy != $thisNodeOldprojectStrategy, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldprojectStrategy = $sugNodeOldprojectStrategy, 'Revision Accepted', if($thisNodeOldprojectStrategy = $orgNodeOldprojectStrategy, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldprojectStrategy"/></span><br/></td></tr><tr><td style="background-color:white;vertical-align:top;"><b>Previous Suggestion
                          
                        </b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$sugNodeOldprojectStrategy"/></span><br/></td></tr></table></p></div><div><ix:attr value="if($thisNodeOldprojectStrategy != $orgNodeOldprojectStrategy and $sugNodeOldprojectStrategy = $orgNodeOldprojectStrategy, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u><ix:attr value="if($sugNodeOldprojectStrategy != $thisNodeOldprojectStrategy, 'color:red', 'color:green')" name="style"/><xf:output value="if($thisNodeOldprojectStrategy = $sugNodeOldprojectStrategy, 'Revision Accepted', if($thisNodeOldprojectStrategy = $orgNodeOldprojectStrategy, 'Suggestion Ignored', 'New Value Provided'))"/></u><div style="width:300px;"><p><h5>Review Comments::</h5><span style=""><xf:textarea ref="$thisNodeNeedleOldprojectStrategy/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldprojectStrategy"/></span><br/></td></tr></table></p></div></span></div></span><br/><br/></div><div><ix:attr value="if($thisNodeOldprojectStrategy != $orgNodeOldprojectStrategy and $sugNodeOldprojectStrategy = $orgNodeOldprojectStrategy, '', 'display:none')" name="style"/><span class="dialogOverInteractive"><u style="color:red">New Value Provided</u><div style="width:300px;"><p><h5>History:</h5><span style=""><ix:attr value="if(instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment !='', 'color:black', 'display:none')" name="style"/><xf:output value="instance('ins')/previous/review/*[@revIndex=$revIndexprojectStrategy]/@comment"/><br/><br/></span><hr/><table style="background-color:white;"><tr><td style="background-color:white;vertical-align:top;"><b><span style="color:red">Prior Value</span></b></td><td style="background-color:white;vertical-align:top;color:black"><span><xf:output value="$orgNodeOldprojectStrategy"/></span><br/></td></tr></table></p></div></span><br/><br/></div><div><ix:attr value="if($thisNodeprojectStrategy != $orgNodeprojectStrategy, '', 'display:none')" name="style"/>Change Suggested</div><div><xf:select ref="$thisNodeNeedleprojectStrategy/@addcomment"><xf:item><xf:label>Add New Comment</xf:label><xf:value>1</xf:value></xf:item><script ev:event="xforms-value-changed">
                cnged = model.getValue("../@changed", contextNode);
                com = model.getValue(".", contextNode);
                if(!cnged &amp;&amp; !com) model.USA.removeChange();
                if(!cnged &amp;&amp; com) model.USA.addChange();
                if(!com) model.setValue("../@comment","",contextNode);
                model.recalculate();
              </script></xf:select><div><ix:attr value="if($thisNodeNeedleprojectStrategy/@addcomment='1', 'margin-top:-10px;', 'display:none')" name="style"/><xf:textarea ref="$thisNodeNeedleprojectStrategy/@comment"/></div></div></td></tr><tr class="instructions"><ix:attr value="if(instance('ins')/projectStrategy='1', '', 'display:none')" name="style"/><td colspan="4"><span><ix:attr value="if(instance('ins')/projectStrategy='1', '', 'display:none')" name="style"/><h4><font size="2"><component type="instructions">
		<visible xpath="instance('ins')/projectStrategy='1'"/>
		Please provide documentation on the Attachments tab		
		<option type="widestLabel"/>
	</component></font></h4></span></td></tr></table></div></div><div class="bottomNav"><table><tr><td class="back"><div class="nav" style="float:right"><script ev:event="click">
                    model.Frm.navigateTo("previousTab");
                  </script><div style="float:left" class="command">previous</div><img style="float:right" src="../fil/system/resources/ideate/imgs/left.png"/></div></td><td class="next"><div class="nav" style="float:left"><script ev:event="click">
                    model.Frm.navigateTo("nextTab");
                  </script><img style="float:left" src="../fil/system/resources/ideate/imgs/right.png"/><div style="float:right" class="command">next</div></div></td></tr></table><div style="text-align:center; font-size:10px;margin-top:30px;">© <xf:output value="script('copywrite(2012)')"/></div></div></form>